
========== Hello from Bradley Constructor ==========

========== Hello from Environ constructor ==========
chess_data:             Num Moves  W1  B1   W2  B2  W3   B3   W4   B4   W5  B5   W6  B6  ... B44 W45 B45 W46 B46 W47 B47 W48 B48 W49 B49 W50 B50
Game 81328              49  e4  c5  Nf3  e6  c4  Nc6  Nc3  Nf6  Be2  e5  O-O  d6  ...                                                    
[1 rows x 101 columns]

board: 
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
P P P P P P P P
R N B Q K B N R

turn_list: ['W1', 'B1', 'W2', 'B2', 'W3', 'B3', 'W4', 'B4', 'W5', 'B5', 'W6', 'B6', 'W7', 'B7', 'W8', 'B8', 'W9', 'B9', 'W10', 'B10', 'W11', 'B11', 'W12', 'B12', 'W13', 'B13', 'W14', 'B14', 'W15', 'B15', 'W16', 'B16', 'W17', 'B17', 'W18', 'B18', 'W19', 'B19', 'W20', 'B20', 'W21', 'B21', 'W22', 'B22', 'W23', 'B23', 'W24', 'B24', 'W25', 'B25', 'W26', 'B26', 'W27', 'B27', 'W28', 'B28', 'W29', 'B29', 'W30', 'B30', 'W31', 'B31', 'W32', 'B32', 'W33', 'B33', 'W34', 'B34', 'W35', 'B35', 'W36', 'B36', 'W37', 'B37', 'W38', 'B38', 'W39', 'B39', 'W40', 'B40', 'W41', 'B41', 'W42', 'B42', 'W43', 'B43', 'W44', 'B44', 'W45', 'B45', 'W46', 'B46', 'W47', 'B47', 'W48', 'B48', 'W49', 'B49', 'W50', 'B50']
turn_index: 0
========== End of Environ constructor ==========

Initializing White & Black RL Agents

========== Hello from Agent __init__ ==========
going to init_Q_table

========== Hello from Agent init_Q_table ==========

going to get_unique_moves

========== Hello from Agent get_unique_moves ==========
unique_moves: ['e4' 'Nf3' 'c4' 'Nc3' 'Be2' 'O-O' 'a3' 'Rb1' 'd3' 'Ne1' 'f4' 'Bxf4' 'Nc2'
 'Kh1' 'Bxg5' 'Nb5' 'b3' 'Qc1' 'Rbxc1' 'Rcd1' 'dxe4' 'Rxf8+' 'Bxg4' 'Kg1'
 '']

unique_moves len: 25
========== bye from Agent get_unique_moves ==========

and we're back from get_unique_moves

unique_moves: ['e4' 'Nf3' 'c4' 'Nc3' 'Be2' 'O-O' 'a3' 'Rb1' 'd3' 'Ne1' 'f4' 'Bxf4' 'Nc2'
 'Kh1' 'Bxg5' 'Nb5' 'b3' 'Qc1' 'Rbxc1' 'Rcd1' 'dxe4' 'Rxf8+' 'Bxg4' 'Kg1'
 '']

going to get_turns_list

========== Hello from Agent get_turns_list ==========

turns_list: Index(['W1', 'W2', 'W3', 'W4', 'W5', 'W6', 'W7', 'W8', 'W9', 'W10', 'W11',
       'W12', 'W13', 'W14', 'W15', 'W16', 'W17', 'W18', 'W19', 'W20', 'W21',
       'W22', 'W23', 'W24', 'W25', 'W26', 'W27', 'W28', 'W29', 'W30', 'W31',
       'W32', 'W33', 'W34', 'W35', 'W36', 'W37', 'W38', 'W39', 'W40', 'W41',
       'W42', 'W43', 'W44', 'W45', 'W46', 'W47', 'W48', 'W49', 'W50'],
      dtype='object')
========== bye from Agent get_turns_list==========


and we're back from get_turns_list

turns_list: Index(['W1', 'W2', 'W3', 'W4', 'W5', 'W6', 'W7', 'W8', 'W9', 'W10', 'W11',
       'W12', 'W13', 'W14', 'W15', 'W16', 'W17', 'W18', 'W19', 'W20', 'W21',
       'W22', 'W23', 'W24', 'W25', 'W26', 'W27', 'W28', 'W29', 'W30', 'W31',
       'W32', 'W33', 'W34', 'W35', 'W36', 'W37', 'W38', 'W39', 'W40', 'W41',
       'W42', 'W43', 'W44', 'W45', 'W46', 'W47', 'W48', 'W49', 'W50'],
      dtype='object')

q_table:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
q_table shape: (25, 50)
========== bye from Agent init_Q_table ==========


and we're back to Agent __init__ just arrived from init_Q_table
chess_data:             Num Moves  W1  B1   W2  B2  W3   B3   W4   B4   W5  B5   W6  B6  ... B44 W45 B45 W46 B46 W47 B47 W48 B48 W49 B49 W50 B50
Game 81328         49  e4  c5  Nf3  e6  c4  Nc6  Nc3  Nf6  Be2  e5  O-O  d6  ...                                                    
[1 rows x 101 columns]

is_trained: False

Q_table:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== Bye from Agent __init__ ==========

White agent initialized

========== Hello from Agent __init__ ==========
going to init_Q_table

========== Hello from Agent init_Q_table ==========

going to get_unique_moves

========== Hello from Agent get_unique_moves ==========
unique_moves: ['c5' 'e6' 'Nc6' 'Nf6' 'e5' 'd6' 'Be7' 'a5' 'O-O' 'Be6' 'exf4' 'Nd7'
 'Nde5' 'Bg5' 'Qxg5' 'Rad8' 'Bc8' 'Qxc1' 'f5' 'fxe4' 'Bg4' 'Kxf8' 'Nxg4'
 'Ke7' '']
unique_moves len: 25

========== bye from Agent get_unique_moves ==========

and we're back from get_unique_moves

unique_moves: ['c5' 'e6' 'Nc6' 'Nf6' 'e5' 'd6' 'Be7' 'a5' 'O-O' 'Be6' 'exf4' 'Nd7'
 'Nde5' 'Bg5' 'Qxg5' 'Rad8' 'Bc8' 'Qxc1' 'f5' 'fxe4' 'Bg4' 'Kxf8' 'Nxg4'
 'Ke7' '']

going to get_turns_list
========== Hello from Agent get_turns_list ==========

turns_list: Index(['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'B11',
       'B12', 'B13', 'B14', 'B15', 'B16', 'B17', 'B18', 'B19', 'B20', 'B21',
       'B22', 'B23', 'B24', 'B25', 'B26', 'B27', 'B28', 'B29', 'B30', 'B31',
       'B32', 'B33', 'B34', 'B35', 'B36', 'B37', 'B38', 'B39', 'B40', 'B41',
       'B42', 'B43', 'B44', 'B45', 'B46', 'B47', 'B48', 'B49', 'B50'],
      dtype='object')
========== bye from Agent get_turns_list==========


and we're back from get_turns_list

turns_list: Index(['B1', 'B2', 'B3', 'B4', 'B5', 'B6', 'B7', 'B8', 'B9', 'B10', 'B11',
       'B12', 'B13', 'B14', 'B15', 'B16', 'B17', 'B18', 'B19', 'B20', 'B21',
       'B22', 'B23', 'B24', 'B25', 'B26', 'B27', 'B28', 'B29', 'B30', 'B31',
       'B32', 'B33', 'B34', 'B35', 'B36', 'B37', 'B38', 'B39', 'B40', 'B41',
       'B42', 'B43', 'B44', 'B45', 'B46', 'B47', 'B48', 'B49', 'B50'],
      dtype='object')
q_table:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
q_table shape: (25, 50)
========== bye from Agent init_Q_table ==========


and we're back to Agent __init__ just arrived from init_Q_table

chess_data:             Num Moves  W1  B1   W2  B2  W3   B3   W4   B4   W5  B5   W6  B6  ... B44 W45 B45 W46 B46 W47 B47 W48 B48 W49 B49 W50 B50
Game 81328         49  e4  c5  Nf3  e6  c4  Nc6  Nc3  Nf6  Be2  e5  O-O  d6  ...                                                    

[1 rows x 101 columns]
is_trained: False
Q_table:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== Bye from Agent __init__ ==========


Black agent initialized

White agent learn rate is: 0.6
White agent discount factor is: 0.3
Black agent learn rate is: 0.2
Black agent discount factor is: 0.8
========== End of Bradley Constructor ==========


========== Hello from Bradley.train_rl_agents ==========
White agent initial Q value is: 50
Black agent initial Q value is: 50

entering main for loop for training

entering self.environ.get_curr_state()

========== Hello from Environ.get_curr_state ==========
going to get curr turn and get_legal_moves

========== Hello from Environ.get_curr_turn ==========
turn_index: 0
curr_turn: W1
========== End of Environ.get_curr_turn ==========


========== Hello from Environ.get_legal_moves ==========
board: r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
P P P P P P P P
R N B Q K B N R

legal_moves: ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']
legal_moves is NOT empty

========== End of Environ.get_legal_moves ==========

back from get_curr_turn and get_legal_moves

state: {'turn_index': 0, 'curr_turn': 'W1', 'legal_moves': ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state()

Current state is: {'turn_index': 0, 'curr_turn': 'W1', 'legal_moves': ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']}

now entering loop for ONE game

White agent picks move from state: {'turn_index': 0, 'curr_turn': 'W1', 'legal_moves': ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']}

going to self.rl_agent_PICKS_move_training_mode


========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========
Current state is: {'turn_index': 0, 'curr_turn': 'W1', 'legal_moves': ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328

going to rl_agent.choose_action

========== Hello from Agent choose_action ========== 
environ_state: {'turn_index': 0, 'curr_turn': 'W1', 'legal_moves': ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']}
legal_moves: ['Nh3', 'Nf3', 'Nc3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'e4', 'd4', 'c4', 'b4', 'a4']
curr_turn: W1

moves_not_in_Q_table: ['Nh3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'c3', 'h4', 'g4', 'd4', 'b4', 'a4']
========== going to update_Q_table =========== 

========== Hello from Agent update_Q_table ==========
new_chess_moves: ['Nh3', 'Na3', 'h3', 'g3', 'f3', 'e3', 'c3', 'h4', 'g4', 'd4', 'b4', 'a4']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Nh3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
h3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
g3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
f3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========

========== back from Agen update_Q_table =========== 

========== going to policy_training_mode ==========

========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: e4
========== bye from Agent policy_training_mode ========== 

and we're back from rl_agent.choose_action
White agent picked move: e4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode

White agent picked move: e4
on turn: 0
White agent assigns points to Q table for move: e4

going to self.assign_points_to_Q_table_training_mode

========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: e4
Current turn is: W1
Current Q value is: 50
RL agent color is: W

and we're going to rl_agent.change_Q_table_pts

========== Hello from Agent change_Q_table_pts ==========
chess_move: e4
curr_turn: W1
pts: 50
========== bye from Agent change_Q_table_pts ==========

and we're back from rl_agent.change_Q_table_pts

White agent changed Q table points for move: e4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========

and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: e4

now going to rl_agent_PLAYS_move_training_mode

========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: e4
going to self.environ.load_chessboard

========== Hello from Environ.load_chessboard ==========
chess_move_str: e4
chess move loaded successfully
board: 

r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
========== End of Environ.load_chessboard ==========

and we're back from self.environ.load_chessboard

going to self.environ.update_curr_state

========== Hello from Environ.update_curr_state ==========

max_turn_index: 99

========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state

going to self.analyze_board_state

========== Hello from Bradley.get_chessboard ==========
Chessboard looks like this:

r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

========== Bye from Bradley.get_chessboard ===========

========== Hello from Bradley.analyze_board_state ==========

Board is: 
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

is_for_est_Qval_analysis is: False

Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-35), BLACK), 'nodes': 10850, 'nps': 1356250, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('e7e5'), Move.from_uci('g1f3'), Move.from_uci('b8c6'), Move.from_uci('b1c3'), Move.from_uci('g8f6'), Move.from_uci('f1b5'), Move.from_uci('f8c5'), Move.from_uci('e1g1')]}]

Normalized mate score is: None
Normalized centipawn score is: 35

========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 35}
Reward for move is: 35

========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: e4
White agent got reward: 35
going to self.environ.get_curr_state

========== Hello from Environ.get_curr_state ==========
going to get curr turn and get_legal_moves

========== Hello from Environ.get_curr_turn ==========
turn_index: 1
curr_turn: B1
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========
board: 
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
legal_moves: ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']
legal_moves is NOT empty

========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves

state: {'turn_index': 1, 'curr_turn': 'B1', 'legal_moves': ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state

Current state is: {'turn_index': 1, 'curr_turn': 'B1', 'legal_moves': ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']}

going to self.find_estimated_Q_value

========== Hello from Bradley.find_estimated_Q_value ==========
going to self.analyze_board_state

========== Hello from Bradley.get_chessboard ==========
Chessboard looks like this:
r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
is_for_est_Qval_analysis is: True

Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-32), BLACK), 'nodes': 6833, 'nps': 1366600, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('e7e5'), Move.from_uci('g1f3'), Move.from_uci('d7d6'), Move.from_uci('c2c3'), Move.from_uci('g8f6'), Move.from_uci('d1c2'), Move.from_uci('d6d5'), Move.from_uci('e4d5')]}]
Normalized mate score is: None
Normalized centipawn score is: 32

Anticipated next move is: e7e5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state

Analysis results are: {'mate_score': None, 'centipawn_score': 32, 'anticipated_next_move': Move.from_uci('e7e5')}

going to self.environ.load_chessboard_for_Q_est

========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 32, 'anticipated_next_move': Move.from_uci('e7e5')}
chess move loaded successfully
board: r n b q k b n r
p p p p . p p p
. . . . . . . .
. . . . p . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state

========== Hello from Bradley.get_chessboard ==========
Chessboard looks like this:
 r n b q k b n r
p p p p . p p p
. . . . . . . .
. . . . p . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========
Board is: r n b q k b n r
p p p p . p p p
. . . . . . . .
. . . . p . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+54), WHITE), 'nodes': 5647, 'nps': 1129400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('g1f3'), Move.from_uci('b8c6'), Move.from_uci('f1b5'), Move.from_uci('c6d4'), Move.from_uci('f3d4'), Move.from_uci('e5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 54
========== Bye from Bradley.analyze_board_state ===========

and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 54
========== Bye from Bradley.find_estimated_Q_value ===========

and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 54

going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 1, 'curr_turn': 'B1', 'legal_moves': ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action

========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 1, 'curr_turn': 'B1', 'legal_moves': ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']}
legal_moves: ['Nh6', 'Nf6', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'c6', 'b6', 'a6', 'h5', 'g5', 'f5', 'e5', 'd5', 'c5', 'b5', 'a5']
curr_turn: B1
moves_not_in_Q_table: ['Nh6', 'Na6', 'h6', 'g6', 'f6', 'c6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nh6', 'Na6', 'h6', 'g6', 'f6', 'c6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Nh6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
h6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
g6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
f6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: c5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: c5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: c5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: c5
Current turn is: B1
Current Q value is: 50
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: c5
curr_turn: B1
pts: 50
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: c5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: c5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: c5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: c5
chess move loaded successfully
board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(+47), WHITE), 'nodes': 10362, 'nps': 1295250, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('g1f3'), Move.from_uci('e7e6'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('b8c6'), Move.from_uci('c1e3'), Move.from_uci('g8f6')]}]
Normalized mate score is: None
Normalized centipawn score is: 47
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 47}
Reward for move is: 47
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 47 for playing move: c5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 2
curr_turn: W2
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
legal_moves: ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+42), WHITE), 'nodes': 7031, 'nps': 1171833, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('g1f3'), Move.from_uci('b8c6'), Move.from_uci('f1b5'), Move.from_uci('c6d4'), Move.from_uci('b5d3'), Move.from_uci('d7d5'), Move.from_uci('f3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 42
Anticipated next move is: g1f3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 42, 'anticipated_next_move': Move.from_uci('g1f3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 42, 'anticipated_next_move': Move.from_uci('g1f3')}
chess move loaded successfully
board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-27), BLACK), 'nodes': 2924, 'nps': 974666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('b8c6'), Move.from_uci('f1b5'), Move.from_uci('c6d4'), Move.from_uci('b5e2'), Move.from_uci('g8f6'), Move.from_uci('f3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 27
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 27
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 27
going to SARSA calculations

========== Hello from Bradley.find_next_Qval ==========
Current Q value is: 50
Learning rate is: 0.6
Reward is: 35
Discount factor is: 0.3
Estimated Q value is: 54
Next Q value is: 50.72
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 50
Learning rate is: 0.2
Reward is: 47
Discount factor is: 0.8
Estimated Q value is: 27
Next Q value is: 53.72
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 50.72
B next Q val is: 53.72
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 2
curr_turn: W2
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . . . .
P P P P . P P P
R N B Q K B N R
legal_moves: ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 2, 'curr_turn': 'W2', 'legal_moves': ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']}
legal_moves: ['Nh3', 'Nf3', 'Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'f3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'f4', 'd4', 'c4', 'b4', 'a4']
curr_turn: W2
moves_not_in_Q_table: ['Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'e5']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ne2', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Ke2', 'Qh5', 'Qg4', 'Qf3', 'Qe2', 'e5']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Ne2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ba6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bb5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bc4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bd3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nf3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Nf3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Nf3
on turn: 2
White agent assigns points to Q table for move: Nf3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nf3
Current turn is: W2
Current Q value is: 50.72
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nf3
curr_turn: W2
pts: 50.72
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nf3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Nf3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nf3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nf3
chess move loaded successfully
board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-22), BLACK), 'nodes': 5528, 'nps': 1105600, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('g7g6'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f1c4'), Move.from_uci('b8c6'), Move.from_uci('f3d4'), Move.from_uci('g8f6'), Move.from_uci('b1c3'), Move.from_uci('f8g7')]}]
Normalized mate score is: None
Normalized centipawn score is: 22
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 22}
Reward for move is: 22
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Nf3
White agent got reward: 22
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 3
curr_turn: B2
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
legal_moves: ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 3, 'curr_turn': 'B2', 'legal_moves': ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 3, 'curr_turn': 'B2', 'legal_moves': ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-33), BLACK), 'nodes': 6436, 'nps': 1287200, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('g7g6'), Move.from_uci('c2c3'), Move.from_uci('d7d5'), Move.from_uci('e4d5'), Move.from_uci('d8d5'), Move.from_uci('b1a3'), Move.from_uci('f8g7'), Move.from_uci('f1c4')]}]
Normalized mate score is: None
Normalized centipawn score is: 33
Anticipated next move is: g7g6
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 33, 'anticipated_next_move': Move.from_uci('g7g6')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 33, 'anticipated_next_move': Move.from_uci('g7g6')}
chess move loaded successfully
board: r n b q k b n r
p p . p p p . p
. . . . . . p .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p p p . p
. . . . . . p .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p p p . p
. . . . . . p .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+37), WHITE), 'nodes': 5820, 'nps': 1455000, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('c2c3'), Move.from_uci('d7d5'), Move.from_uci('e4e5'), Move.from_uci('b8c6'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('c3d4'), Move.from_uci('c8g4')]}]
Normalized mate score is: None
Normalized centipawn score is: 37
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r n b q k b n r
p p . p p p p p
. . . . . . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 37
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 37
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 3, 'curr_turn': 'B2', 'legal_moves': ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 3, 'curr_turn': 'B2', 'legal_moves': ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']}
legal_moves: ['Nh6', 'Nf6', 'Qc7', 'Qb6', 'Qa5', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'e6', 'd6', 'b6', 'a6', 'c4', 'h5', 'g5', 'f5', 'e5', 'd5', 'b5', 'a5']
curr_turn: B2
moves_not_in_Q_table: ['Qc7', 'Qb6', 'Qa5', 'c4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Qc7', 'Qb6', 'Qa5', 'c4']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Qc7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qb6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qa5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: e6
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: e6
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: e6
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: e6
Current turn is: B2
Current Q value is: 53.72
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: e6
curr_turn: B2
pts: 53.72
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: e6
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: e6
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: e6
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: e6
chess move loaded successfully
board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+31), WHITE), 'nodes': 7775, 'nps': 1110714, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('b8c6'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('f1d3'), Move.from_uci('d7d5'), Move.from_uci('e1g1')]}]
Normalized mate score is: None
Normalized centipawn score is: 31
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 31}
Reward for move is: 31
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 31 for playing move: e6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 4
curr_turn: W3
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 15, 'multipv': 1, 'score': PovScore(Cp(+34), WHITE), 'nodes': 3137, 'nps': 1045666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('g8f6'), Move.from_uci('f1d3'), Move.from_uci('b8c6'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('e1g1'), Move.from_uci('d7d5'), Move.from_uci('e4d5'), Move.from_uci('c6d5'), Move.from_uci('c2c4'), Move.from_uci('d5c4'), Move.from_uci('d3c4')]}]
Normalized mate score is: None
Normalized centipawn score is: 34
Anticipated next move is: d2d4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 34, 'anticipated_next_move': Move.from_uci('d2d4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 34, 'anticipated_next_move': Move.from_uci('d2d4')}
chess move loaded successfully
board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . P P . . .
. . . . . N . .
P P P . . P P P
R N B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . P P . . .
. . . . . N . .
P P P . . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . P P . . .
. . . . . N . .
P P P . . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-34), BLACK), 'nodes': 1456, 'nps': 728000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('g8f6'), Move.from_uci('f1d3'), Move.from_uci('b8c6'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('e1g1'), Move.from_uci('d7d5'), Move.from_uci('e4d5')]}]
Normalized mate score is: None
Normalized centipawn score is: 34
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 34
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 34
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 50.72
Learning rate is: 0.6
Reward is: 22
Discount factor is: 0.3
Estimated Q value is: 37
Next Q value is: 40.148
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 53.72
Learning rate is: 0.2
Reward is: 31
Discount factor is: 0.8
Estimated Q value is: 34
Next Q value is: 54.616
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 40.148
B next Q val is: 54.616
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 4
curr_turn: W3
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . . . P . . .
. . . . . N . .
P P P P . P P P
R N B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 4, 'curr_turn': 'W3', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']}
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Ba6', 'Bb5', 'Bc4', 'Bd3', 'Be2', 'Ke2', 'Qe2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'c3', 'b3', 'a3', 'h4', 'g4', 'd4', 'c4', 'b4', 'a4']
curr_turn: W3
moves_not_in_Q_table: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Ng5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ne5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nh4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nd4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ng1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1     W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: c4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: c4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: c4
on turn: 4
White agent assigns points to Q table for move: c4
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: c4
Current turn is: W3
Current Q value is: 40.148
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: c4
curr_turn: W3
pts: 40.148
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: c4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: c4
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: c4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: c4
chess move loaded successfully
board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+5), BLACK), 'nodes': 3597, 'nps': 1199000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('b8c6'), Move.from_uci('b1c3'), Move.from_uci('g8f6'), Move.from_uci('d2d3'), Move.from_uci('d7d5')]}]
Normalized mate score is: None
Normalized centipawn score is: -5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -5}
Reward for move is: -5
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: c4
White agent got reward: -5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 5
curr_turn: B3
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
legal_moves: ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 5, 'curr_turn': 'B3', 'legal_moves': ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 5, 'curr_turn': 'B3', 'legal_moves': ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-10), BLACK), 'nodes': 6035, 'nps': 1005833, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('b8c6'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('d8a5'), Move.from_uci('b1c3'), Move.from_uci('g8f6'), Move.from_uci('d4c6'), Move.from_uci('d7c6'), Move.from_uci('f1d3')]}]
Normalized mate score is: None
Normalized centipawn score is: 10
Anticipated next move is: b8c6
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 10, 'anticipated_next_move': Move.from_uci('b8c6')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 10, 'anticipated_next_move': Move.from_uci('b8c6')}
chess move loaded successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(+27), WHITE), 'nodes': 7470, 'nps': 1067142, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('g8f6'), Move.from_uci('b1c3'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('d7c6'), Move.from_uci('d1d8'), Move.from_uci('e8d8'), Move.from_uci('e4e5'), Move.from_uci('f6d7'), Move.from_uci('c1f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 27
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r n b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 27
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 27
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 5, 'curr_turn': 'B3', 'legal_moves': ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 5, 'curr_turn': 'B3', 'legal_moves': ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
legal_moves: ['Ne7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Nc6', 'Na6', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']
curr_turn: B3
moves_not_in_Q_table: ['Ne7', 'Bd6', 'Qe7', 'Qf6', 'Qg5', 'Qh4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ne7', 'Bd6', 'Qe7', 'Qf6', 'Qg5', 'Qh4']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Ne7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bd6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qe7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qg5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nc6
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Nc6
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Nc6
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nc6
Current turn is: B3
Current Q value is: 54.616
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nc6
curr_turn: B3
pts: 54.616
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nc6
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Nc6
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nc6
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nc6
chess move loaded successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 15, 'multipv': 1, 'score': PovScore(Cp(+35), WHITE), 'nodes': 3322, 'nps': 830500, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('g8f6'), Move.from_uci('b1c3'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('d7c6')]}]
Normalized mate score is: None
Normalized centipawn score is: 35
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 35}
Reward for move is: 35
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 35 for playing move: Nc6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 6
curr_turn: W4
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+30), WHITE), 'nodes': 7385, 'nps': 1477000, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('b1c3'), Move.from_uci('g8f6'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('b7c6')]}]
Normalized mate score is: None
Normalized centipawn score is: 30
Anticipated next move is: b1c3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 30, 'anticipated_next_move': Move.from_uci('b1c3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 30, 'anticipated_next_move': Move.from_uci('b1c3')}
chess move loaded successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-1), BLACK), 'nodes': 5822, 'nps': 1164400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('c6d4'), Move.from_uci('g2g3'), Move.from_uci('g8e7'), Move.from_uci('f1g2'), Move.from_uci('d4f3'), Move.from_uci('g2f3')]}]
Normalized mate score is: None
Normalized centipawn score is: 1
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 1
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 1
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 40.148
Learning rate is: 0.6
Reward is: -5
Discount factor is: 0.3
Estimated Q value is: 27
Next Q value is: 17.919200000000004
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 54.616
Learning rate is: 0.2
Reward is: 35
Discount factor is: 0.8
Estimated Q value is: 1
Next Q value is: 50.8528
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 17.919200000000004
B next Q val is: 50.8528
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 6
curr_turn: W4
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . . . . N . .
P P . P . P P P
R N B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 6, 'curr_turn': 'W4', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Nc3', 'Na3', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
curr_turn: W4
moves_not_in_Q_table: ['Qa4', 'Qb3', 'Qc2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Qa4', 'Qb3', 'Qc2']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Qa4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qb3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qc2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      W1     W2      W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  ...  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nc3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Nc3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Nc3
on turn: 6
White agent assigns points to Q table for move: Nc3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nc3
Current turn is: W4
Current Q value is: 17.919200000000004
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nc3
curr_turn: W4
pts: 17.919200000000004
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nc3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Nc3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nc3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nc3
chess move loaded successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-6), BLACK), 'nodes': 6751, 'nps': 1350200, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('c6d4'), Move.from_uci('d2d3'), Move.from_uci('g8e7'), Move.from_uci('g2g3'), Move.from_uci('e7c6'), Move.from_uci('f1g2'), Move.from_uci('a7a6'), Move.from_uci('e1g1'), Move.from_uci('d4f3'), Move.from_uci('g2f3')]}]
Normalized mate score is: None
Normalized centipawn score is: 6
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 6}
Reward for move is: 6
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Nc3
White agent got reward: 6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 7
curr_turn: B4
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
legal_moves: ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 7, 'curr_turn': 'B4', 'legal_moves': ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 7, 'curr_turn': 'B4', 'legal_moves': ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-6), BLACK), 'nodes': 3299, 'nps': 1099666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('c6d4'), Move.from_uci('d2d3'), Move.from_uci('g8e7'), Move.from_uci('g2g3'), Move.from_uci('e7c6'), Move.from_uci('f1g2'), Move.from_uci('a7a6'), Move.from_uci('e1g1'), Move.from_uci('d4f3'), Move.from_uci('g2f3')]}]
Normalized mate score is: None
Normalized centipawn score is: 6
Anticipated next move is: c6d4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 6, 'anticipated_next_move': Move.from_uci('c6d4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 6, 'anticipated_next_move': Move.from_uci('c6d4')}
chess move loaded successfully
board: r . b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P n P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P n P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b n r
p p . p . p p p
. . . . p . . .
. . p . . . . .
. . P n P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+17), WHITE), 'nodes': 6667, 'nps': 1333400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('c3e2'), Move.from_uci('d4f3'), Move.from_uci('g2f3'), Move.from_uci('e6e5'), Move.from_uci('d2d3'), Move.from_uci('g7g6'), Move.from_uci('f3f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 17
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b n r
p p . p . p p p
. . n . p . . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 17
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 17
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 7, 'curr_turn': 'B4', 'legal_moves': ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 7, 'curr_turn': 'B4', 'legal_moves': ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']}
legal_moves: ['Nge7', 'Nh6', 'Nf6', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qf6', 'Qb6', 'Qg5', 'Qa5', 'Qh4', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'f5', 'd5', 'b5', 'a5']
curr_turn: B4
moves_not_in_Q_table: ['Nge7', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nge7', 'Rb8', 'Nb8', 'Nce7', 'Ne5', 'Na5', 'Nd4', 'Nb4']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Nge7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rb8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nb8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nce7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ne5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  ...  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nf6
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Nf6
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Nf6
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nf6
Current turn is: B4
Current Q value is: 50.8528
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nf6
curr_turn: B4
pts: 50.8528
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nf6
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Nf6
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nf6
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nf6
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+38), WHITE), 'nodes': 2823, 'nps': 941000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('f1d3'), Move.from_uci('b4c3'), Move.from_uci('b2c3'), Move.from_uci('e8g8')]}]
Normalized mate score is: None
Normalized centipawn score is: 38
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 38}
Reward for move is: 38
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 38 for playing move: Nf6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 8
curr_turn: W5
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 15, 'multipv': 1, 'score': PovScore(Cp(+13), WHITE), 'nodes': 4903, 'nps': 1225750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('e4e5'), Move.from_uci('f6e4'), Move.from_uci('a2a3'), Move.from_uci('b4c3'), Move.from_uci('b2c3')]}]
Normalized mate score is: None
Normalized centipawn score is: 13
Anticipated next move is: d2d4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 13, 'anticipated_next_move': Move.from_uci('d2d4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 13, 'anticipated_next_move': Move.from_uci('d2d4')}
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P P P . . .
. . N . . N . .
P P . . . P P P
R . B Q K B . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P P P . . .
. . N . . N . .
P P . . . P P P
R . B Q K B . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P P P . . .
. . N . . N . .
P P . . . P P P
R . B Q K B . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-21), BLACK), 'nodes': 1940, 'nps': 970000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('f8b4'), Move.from_uci('d4c6'), Move.from_uci('b7c6'), Move.from_uci('f1d3'), Move.from_uci('e6e5'), Move.from_uci('e1g1')]}]
Normalized mate score is: None
Normalized centipawn score is: 21
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 21
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 21
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 17.919200000000004
Learning rate is: 0.6
Reward is: 6
Discount factor is: 0.3
Estimated Q value is: 17
Next Q value is: 13.82768
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 50.8528
Learning rate is: 0.2
Reward is: 38
Discount factor is: 0.8
Estimated Q value is: 21
Next Q value is: 51.64224
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 13.82768
B next Q val is: 51.64224
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 8
curr_turn: W5
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P . P P P
R . B Q K B . R
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 8, 'curr_turn': 'W5', 'legal_moves': ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
legal_moves: ['Ng5', 'Ne5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Ne2', 'Nb1', 'Rg1', 'Bd3', 'Be2', 'Ke2', 'Qa4', 'Qb3', 'Qe2', 'Qc2', 'Rb1', 'e5', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
curr_turn: W5
moves_not_in_Q_table: ['Nd5', 'Na4', 'Nb1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nd5', 'Na4', 'Nb1']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Nd5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nb1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      W1     W2      W3       W4  W5  W6  W7  W8  W9  W10  W11  W12  ...  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Be2
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Be2
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Be2
on turn: 8
White agent assigns points to Q table for move: Be2
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Be2
Current turn is: W5
Current Q value is: 13.82768
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Be2
curr_turn: W5
pts: 13.82768
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Be2
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Be2
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Be2
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Be2
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-9), BLACK), 'nodes': 5130, 'nps': 1026000, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('d7d5'), Move.from_uci('e4d5'), Move.from_uci('e6d5'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('d5c4'), Move.from_uci('d4c6'), Move.from_uci('d8d1'), Move.from_uci('e1d1'), Move.from_uci('b7c6')]}]
Normalized mate score is: None
Normalized centipawn score is: 9
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 9}
Reward for move is: 9
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Be2
White agent got reward: 9
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 9
curr_turn: B5
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
legal_moves: ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 9, 'curr_turn': 'B5', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 9, 'curr_turn': 'B5', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-9), BLACK), 'nodes': 897, 'nps': 448500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d7d5'), Move.from_uci('e4d5'), Move.from_uci('e6d5'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('d5c4'), Move.from_uci('d4c6'), Move.from_uci('d8d1'), Move.from_uci('e1d1')]}]
Normalized mate score is: None
Normalized centipawn score is: 9
Anticipated next move is: d7d5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 9, 'anticipated_next_move': Move.from_uci('d7d5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 9, 'anticipated_next_move': Move.from_uci('d7d5')}
chess move loaded successfully
board: r . b q k b . r
p p . . . p p p
. . n . p n . .
. . p p . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n . p n . .
. . p p . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n . p n . .
. . p p . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+30), WHITE), 'nodes': 1025, 'nps': 512500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e4d5'), Move.from_uci('e6d5'), Move.from_uci('d2d4'), Move.from_uci('c5d4'), Move.from_uci('f3d4'), Move.from_uci('f8b4')]}]
Normalized mate score is: None
Normalized centipawn score is: 30
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . p . p p p
. . n . p n . .
. . p . . . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 30
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 30
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 9, 'curr_turn': 'B5', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 9, 'curr_turn': 'B5', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']}
legal_moves: ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Ne5', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'e5', 'h5', 'g5', 'd5', 'b5', 'a5']
curr_turn: B5
moves_not_in_Q_table: ['Rg8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rg8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rg8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ng8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nh5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nd5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ng4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4  B5  B6  B7  B8  B9  B10  B11  B12  ...  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000   0   0   0   0   0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: e5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: e5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: e5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: e5
Current turn is: B5
Current Q value is: 51.64224
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: e5
curr_turn: B5
pts: 51.64224
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: e5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: e5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: e5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: e5
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+31), WHITE), 'nodes': 10575, 'nps': 1175000, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('e1g1'), Move.from_uci('g7g6'), Move.from_uci('f3e1'), Move.from_uci('f8g7'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('e1c2')]}]
Normalized mate score is: None
Normalized centipawn score is: 31
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 31}
Reward for move is: 31
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 31 for playing move: e5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 10
curr_turn: W6
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(+42), WHITE), 'nodes': 2525, 'nps': 1262500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e1g1'), Move.from_uci('g7g6'), Move.from_uci('a2a3'), Move.from_uci('f8h6'), Move.from_uci('d2d3'), Move.from_uci('h6c1'), Move.from_uci('d1c1')]}]
Normalized mate score is: None
Normalized centipawn score is: 42
Anticipated next move is: e1g1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 42, 'anticipated_next_move': Move.from_uci('e1g1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 42, 'anticipated_next_move': Move.from_uci('e1g1')}
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-34), BLACK), 'nodes': 7194, 'nps': 1199000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('g7g6'), Move.from_uci('a2a3'), Move.from_uci('d7d6'), Move.from_uci('b2b4'), Move.from_uci('f8g7'), Move.from_uci('a1b1'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 34
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 34
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 34
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 13.82768
Learning rate is: 0.6
Reward is: 9
Discount factor is: 0.3
Estimated Q value is: 30
Next Q value is: 16.331072
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 51.64224
Learning rate is: 0.2
Reward is: 31
Discount factor is: 0.8
Estimated Q value is: 34
Next Q value is: 52.953792
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 16.331072
B next Q val is: 52.953792
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 10
curr_turn: W6
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q K . . R
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 10, 'curr_turn': 'W6', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ng1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Bf1', 'Rg1', 'Rf1', 'Kf1', 'Qa4', 'Qb3', 'Qc2', 'Rb1', 'O-O', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
curr_turn: W6
moves_not_in_Q_table: ['Nxe5', 'Bf1', 'Rf1', 'Kf1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nxe5', 'Bf1', 'Rf1', 'Kf1']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Nxe5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bf1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Kf1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5  W6  W7  W8  W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000   0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000   0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000   0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000   0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768   0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: O-O
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: O-O
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: O-O
on turn: 10
White agent assigns points to Q table for move: O-O
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: O-O
Current turn is: W6
Current Q value is: 16.331072
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: O-O
curr_turn: W6
pts: 16.331072
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: O-O
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: O-O
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: O-O
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: O-O
chess move loaded successfully
board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-21), BLACK), 'nodes': 2982, 'nps': 994000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('g7g6'), Move.from_uci('a2a3'), Move.from_uci('a7a5'), Move.from_uci('d2d3'), Move.from_uci('f8g7'), Move.from_uci('f3e1'), Move.from_uci('d7d6')]}]
Normalized mate score is: None
Normalized centipawn score is: 21
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 21}
Reward for move is: 21
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: O-O
White agent got reward: 21
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 11
curr_turn: B6
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
legal_moves: ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 11, 'curr_turn': 'B6', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 11, 'curr_turn': 'B6', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-18), BLACK), 'nodes': 9583, 'nps': 1197875, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('g7g6'), Move.from_uci('a2a3'), Move.from_uci('f8h6'), Move.from_uci('a1b1'), Move.from_uci('d7d6'), Move.from_uci('b2b4'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('h6c1'), Move.from_uci('d1c1')]}]
Normalized mate score is: None
Normalized centipawn score is: 18
Anticipated next move is: g7g6
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 18, 'anticipated_next_move': Move.from_uci('g7g6')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 18, 'anticipated_next_move': Move.from_uci('g7g6')}
chess move loaded successfully
board: r . b q k b . r
p p . p . p . p
. . n . . n p .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . p . p . p
. . n . . n p .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . p . p . p
. . n . . n p .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+19), WHITE), 'nodes': 9317, 'nps': 1331000, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('a2a3'), Move.from_uci('a7a5'), Move.from_uci('f3e1'), Move.from_uci('f8g7'), Move.from_uci('d2d3'), Move.from_uci('d7d6'), Move.from_uci('e1c2')]}]
Normalized mate score is: None
Normalized centipawn score is: 19
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . p . p p p
. . n . . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 19
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 19
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 11, 'curr_turn': 'B6', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 11, 'curr_turn': 'B6', 'legal_moves': ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']}
legal_moves: ['Rg8', 'Be7', 'Bd6', 'Ke7', 'Qe7', 'Qc7', 'Qb6', 'Qa5', 'Rb8', 'Ng8', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'd6', 'b6', 'a6', 'h5', 'g5', 'd5', 'b5', 'a5']
curr_turn: B6
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: d6
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: d6
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: d6
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: d6
Current turn is: B6
Current Q value is: 52.953792
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: d6
curr_turn: B6
pts: 52.953792
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: d6
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: d6
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: d6
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: d6
chess move loaded successfully
board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+43), WHITE), 'nodes': 8766, 'nps': 1252285, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('f3e1'), Move.from_uci('g7g6'), Move.from_uci('e1c2'), Move.from_uci('f8g7'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('f2f4'), Move.from_uci('e5f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 43
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 43}
Reward for move is: 43
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 43 for playing move: d6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 12
curr_turn: W7
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(+44), WHITE), 'nodes': 2900, 'nps': 1450000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f3e1'), Move.from_uci('g7g6'), Move.from_uci('d2d3'), Move.from_uci('f8g7'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('e8g8')]}]
Normalized mate score is: None
Normalized centipawn score is: 44
Anticipated next move is: f3e1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 44, 'anticipated_next_move': Move.from_uci('f3e1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 44, 'anticipated_next_move': Move.from_uci('f3e1')}
chess move loaded successfully
board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . . . .
P P . P B P P P
R . B Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . . . .
P P . P B P P P
R . B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . . . .
P P . P B P P P
R . B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(-33), BLACK), 'nodes': 7572, 'nps': 1262000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('f8e7'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('f6e8'), Move.from_uci('c3d5'), Move.from_uci('e8c7')]}]
Normalized mate score is: None
Normalized centipawn score is: 33
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 33
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 33
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 16.331072
Learning rate is: 0.6
Reward is: 21
Discount factor is: 0.3
Estimated Q value is: 19
Next Q value is: 22.552428799999998
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 52.953792
Learning rate is: 0.2
Reward is: 43
Discount factor is: 0.8
Estimated Q value is: 33
Next Q value is: 56.243033600000004
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 22.552428799999998
B next Q val is: 56.243033600000004
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 12
curr_turn: W7
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
. . N . . N . .
P P . P B P P P
R . B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
White agent picks move from state: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 12, 'curr_turn': 'W7', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']}
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Rb1', 'h3', 'g3', 'd3', 'b3', 'a3', 'h4', 'g4', 'd4', 'b4', 'a4']
curr_turn: W7
moves_not_in_Q_table: ['Re1', 'Qe1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Re1', 'Qe1']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Re1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qe1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[2 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6  W7  W8  W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: a3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: a3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: a3
on turn: 12
White agent assigns points to Q table for move: a3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: a3
Current turn is: W7
Current Q value is: 22.552428799999998
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: a3
curr_turn: W7
pts: 22.552428799999998
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: a3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: a3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: a3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: a3
chess move loaded successfully
board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-29), BLACK), 'nodes': 5172, 'nps': 1034400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('a7a5'), Move.from_uci('f3e1'), Move.from_uci('g7g6'), Move.from_uci('d2d3'), Move.from_uci('f8g7'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('e8g8'), Move.from_uci('c3b5')]}]
Normalized mate score is: None
Normalized centipawn score is: 29
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 29}
Reward for move is: 29
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: a3
White agent got reward: 29
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 13
curr_turn: B7
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
legal_moves: ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 13, 'curr_turn': 'B7', 'legal_moves': ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 13, 'curr_turn': 'B7', 'legal_moves': ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-17), BLACK), 'nodes': 4311, 'nps': 615857, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('a7a5'), Move.from_uci('d2d3'), Move.from_uci('g7g6'), Move.from_uci('f3e1'), Move.from_uci('f8g7'), Move.from_uci('f2f4'), Move.from_uci('e5f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 17
Anticipated next move is: a7a5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 17, 'anticipated_next_move': Move.from_uci('a7a5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 17, 'anticipated_next_move': Move.from_uci('a7a5')}
chess move loaded successfully
board: r . b q k b . r
. p . . . p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k b . r
. p . . . p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k b . r
. p . . . p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+30), WHITE), 'nodes': 7864, 'nps': 413894, 'tbhits': 0, 'time': 0.019, 'pv': [Move.from_uci('f3e1'), Move.from_uci('g7g6'), Move.from_uci('d2d3'), Move.from_uci('f8g7'), Move.from_uci('a1b1'), Move.from_uci('e8g8'), Move.from_uci('e1c2'), Move.from_uci('f6e8'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e8c7'), Move.from_uci('c3d5'), Move.from_uci('c7e6')]}]
Normalized mate score is: None
Normalized centipawn score is: 30
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k b . r
p p . . . p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 30
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 30
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 13, 'curr_turn': 'B7', 'legal_moves': ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 13, 'curr_turn': 'B7', 'legal_moves': ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
legal_moves: ['Rg8', 'Be7', 'Ke7', 'Kd7', 'Qe7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Ne7', 'Na5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']
curr_turn: B7
moves_not_in_Q_table: ['Kd7', 'Qd7', 'Bd7', 'Bf5', 'Bh3']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Kd7', 'Qd7', 'Bd7', 'Bf5', 'Bh3']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Kd7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qd7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bd7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bf5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bh3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6  B7  B8  B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0   0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Be7
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Be7
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Be7
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Be7
Current turn is: B7
Current Q value is: 56.243033600000004
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Be7
curr_turn: B7
pts: 56.243033600000004
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Be7
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Be7
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Be7
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Be7
chess move loaded successfully
board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+46), WHITE), 'nodes': 5834, 'nps': 1166800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('d2d3'), Move.from_uci('a7a5'), Move.from_uci('f3e1'), Move.from_uci('e8g8'), Move.from_uci('e1c2'), Move.from_uci('c6d4'), Move.from_uci('a1b1'), Move.from_uci('d4b3'), Move.from_uci('f2f4'), Move.from_uci('b3c1'), Move.from_uci('d1c1')]}]
Normalized mate score is: None
Normalized centipawn score is: 46
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 46}
Reward for move is: 46
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 46 for playing move: Be7
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 14
curr_turn: W8
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+39), WHITE), 'nodes': 4716, 'nps': 1179000, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('a1b1'), Move.from_uci('a7a5'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('f3e1'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('c1g5')]}]
Normalized mate score is: None
Normalized centipawn score is: 39
Anticipated next move is: a1b1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 39, 'anticipated_next_move': Move.from_uci('a1b1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 39, 'anticipated_next_move': Move.from_uci('a1b1')}
chess move loaded successfully
board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-41), BLACK), 'nodes': 10372, 'nps': 1296500, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('a7a5'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4'), Move.from_uci('f2f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 41
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 41
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 22.552428799999998
Learning rate is: 0.6
Reward is: 29
Discount factor is: 0.3
Estimated Q value is: 30
Next Q value is: 31.82097152
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 56.243033600000004
Learning rate is: 0.2
Reward is: 46
Discount factor is: 0.8
Estimated Q value is: 41
Next Q value is: 60.754426880000004
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 31.82097152
B next Q val is: 60.754426880000004
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 14
curr_turn: W8
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
R . B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
White agent picks move from state: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 14, 'curr_turn': 'W8', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Nb1', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra2', 'Rb1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
curr_turn: W8
moves_not_in_Q_table: ['Na2', 'Ra2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Na2', 'Ra2']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Na2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ra2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[2 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7  W8  W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Rb1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Rb1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Rb1
on turn: 14
White agent assigns points to Q table for move: Rb1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Rb1
Current turn is: W8
Current Q value is: 31.82097152
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Rb1
curr_turn: W8
pts: 31.82097152
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Rb1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Rb1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Rb1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Rb1
chess move loaded successfully
board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-41), BLACK), 'nodes': 1750, 'nps': 875000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('a7a5'), Move.from_uci('d2d3'), Move.from_uci('e8g8'), Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4'), Move.from_uci('f2f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 41}
Reward for move is: 41
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Rb1
White agent got reward: 41
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 15
curr_turn: B8
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
legal_moves: ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 15, 'curr_turn': 'B8', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 15, 'curr_turn': 'B8', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-41), BLACK), 'nodes': 3995, 'nps': 998750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('a7a5'), Move.from_uci('f3e1'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
Anticipated next move is: a7a5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 41, 'anticipated_next_move': Move.from_uci('a7a5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 41, 'anticipated_next_move': Move.from_uci('a7a5')}
chess move loaded successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(+41), WHITE), 'nodes': 767, 'nps': 767000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('f3e1'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k . . r
p p . . b p p p
. . n p . n . .
. . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 41
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 41
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 15, 'curr_turn': 'B8', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 15, 'curr_turn': 'B8', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']}
legal_moves: ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Qa5', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na5', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'a6', 'd5', 'h5', 'g5', 'b5', 'a5']
curr_turn: B8
moves_not_in_Q_table: ['Rf8', 'Kf8', 'Bf8']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rf8', 'Kf8', 'Bf8']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rf8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Kf8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bf8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7  B8  B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0   0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: a5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: a5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: a5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: a5
Current turn is: B8
Current Q value is: 60.754426880000004
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: a5
curr_turn: B8
pts: 60.754426880000004
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: a5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: a5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: a5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: a5
chess move loaded successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+41), WHITE), 'nodes': 705, 'nps': 352500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f3e1'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4'), Move.from_uci('f2f4'), Move.from_uci('e5f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 41}
Reward for move is: 41
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 41 for playing move: a5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 16
curr_turn: W9
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+41), WHITE), 'nodes': 597, 'nps': 298500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f3e1'), Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1g4'), Move.from_uci('c6d4'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 41
Anticipated next move is: f3e1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 41, 'anticipated_next_move': Move.from_uci('f3e1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 41, 'anticipated_next_move': Move.from_uci('f3e1')}
chess move loaded successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . . . .
. P . P B P P P
. R B Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . . . .
. P . P B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . . . .
. P . P B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-33), BLACK), 'nodes': 1639, 'nps': 819500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e8g8'), Move.from_uci('d2d3'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('f2f4'), Move.from_uci('e6g4'), Move.from_uci('d1g4')]}]
Normalized mate score is: None
Normalized centipawn score is: 33
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 33
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 33
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 31.82097152
Learning rate is: 0.6
Reward is: 41
Discount factor is: 0.3
Estimated Q value is: 41
Next Q value is: 44.708388608
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 60.754426880000004
Learning rate is: 0.2
Reward is: 41
Discount factor is: 0.8
Estimated Q value is: 33
Next Q value is: 62.083541504
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 44.708388608
B next Q val is: 62.083541504
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 16
curr_turn: W9
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N . . N . .
. P . P B P P P
. R B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
White agent picks move from state: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 16, 'curr_turn': 'W9', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']}
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bd3', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qc2', 'Qe1', 'Ra1', 'a4', 'h3', 'g3', 'd3', 'b3', 'h4', 'g4', 'd4', 'b4']
curr_turn: W9
moves_not_in_Q_table: ['Ra1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ra1']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Ra1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[1 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8  W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: d3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: d3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: d3
on turn: 16
White agent assigns points to Q table for move: d3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: d3
Current turn is: W9
Current Q value is: 44.708388608
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: d3
curr_turn: W9
pts: 44.708388608
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: d3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: d3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: d3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: d3
chess move loaded successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-29), BLACK), 'nodes': 4464, 'nps': 892800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('e8g8'), Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 29
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 29}
Reward for move is: 29
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: d3
White agent got reward: 29
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 17
curr_turn: B9
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
legal_moves: ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 17, 'curr_turn': 'B9', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 17, 'curr_turn': 'B9', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-28), BLACK), 'nodes': 3233, 'nps': 1077666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('e8g8'), Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('a5a4')]}]
Normalized mate score is: None
Normalized centipawn score is: 28
Anticipated next move is: e8g8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 28, 'anticipated_next_move': Move.from_uci('e8g8')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 28, 'anticipated_next_move': Move.from_uci('e8g8')}
chess move loaded successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+25), WHITE), 'nodes': 5142, 'nps': 1028400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('c1e3'), Move.from_uci('c6d4'), Move.from_uci('c2d4'), Move.from_uci('e5d4'), Move.from_uci('e3g5'), Move.from_uci('d8g5'), Move.from_uci('g4e6'), Move.from_uci('f7e6')]}]
Normalized mate score is: None
Normalized centipawn score is: 25
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q k . . r
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 25
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 25
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 17, 'curr_turn': 'B9', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 17, 'curr_turn': 'B9', 'legal_moves': ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
legal_moves: ['Rg8', 'Rf8', 'Kf8', 'Kd7', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Bf8', 'Ng8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'O-O', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
curr_turn: B9
moves_not_in_Q_table: ['Ra7', 'Ra6', 'Na7', 'a4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ra7', 'Ra6', 'Na7', 'a4']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Ra7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ra6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
a4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8  B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0   0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: O-O
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: O-O
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: O-O
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: O-O
Current turn is: B9
Current Q value is: 62.083541504
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: O-O
curr_turn: B9
pts: 62.083541504
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: O-O
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: O-O
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: O-O
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: O-O
chess move loaded successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+30), WHITE), 'nodes': 3474, 'nps': 1158000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e8f6'), Move.from_uci('g4e6'), Move.from_uci('f7e6')]}]
Normalized mate score is: None
Normalized centipawn score is: 30
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 30}
Reward for move is: 30
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 30 for playing move: O-O
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 18
curr_turn: W10
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+29), WHITE), 'nodes': 2495, 'nps': 1247500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f3e1'), Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e8f6'), Move.from_uci('g4e6'), Move.from_uci('f7e6'), Move.from_uci('b2b4'), Move.from_uci('c5b4'), Move.from_uci('a3b4'), Move.from_uci('a5b4')]}]
Normalized mate score is: None
Normalized centipawn score is: 29
Anticipated next move is: f3e1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 29, 'anticipated_next_move': Move.from_uci('f3e1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 29, 'anticipated_next_move': Move.from_uci('f3e1')}
chess move loaded successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-22), BLACK), 'nodes': 5029, 'nps': 1257250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('c1e3'), Move.from_uci('c6d4'), Move.from_uci('g4e6')]}]
Normalized mate score is: None
Normalized centipawn score is: 22
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 22
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 22
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 44.708388608
Learning rate is: 0.6
Reward is: 29
Discount factor is: 0.3
Estimated Q value is: 25
Next Q value is: 39.7833554432
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 62.083541504
Learning rate is: 0.2
Reward is: 30
Discount factor is: 0.8
Estimated Q value is: 22
Next Q value is: 59.1868332032
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 39.7833554432
B next Q val is: 59.1868332032
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 18
curr_turn: W10
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . N . .
. P . . B P P P
. R B Q . R K .
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 18, 'curr_turn': 'W10', 'legal_moves': ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Ng5', 'Nxe5', 'Nh4', 'Nd4', 'Nd2', 'Ne1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Kh1', 'Re1', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qe1', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W10
moves_not_in_Q_table: ['Nd2', 'Qd2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nd2', 'Qd2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Nd2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qd2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bh6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bg5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bf4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Ne1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Ne1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Ne1
on turn: 18
White agent assigns points to Q table for move: Ne1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Ne1
Current turn is: W10
Current Q value is: 39.7833554432
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Ne1
curr_turn: W10
pts: 39.7833554432
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Ne1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Ne1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Ne1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Ne1
chess move loaded successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-25), BLACK), 'nodes': 7339, 'nps': 1467800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('a5a4'), Move.from_uci('f1e1'), Move.from_uci('c6d4'), Move.from_uci('c2d4'), Move.from_uci('c5d4'), Move.from_uci('c3a4')]}]
Normalized mate score is: None
Normalized centipawn score is: 25
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 25}
Reward for move is: 25
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Ne1
White agent got reward: 25
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 19
curr_turn: B10
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 19, 'curr_turn': 'B10', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 19, 'curr_turn': 'B10', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-20), BLACK), 'nodes': 5167, 'nps': 1291750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f6e8'), Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('g4e6'), Move.from_uci('f7e6'), Move.from_uci('d1g4'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
Anticipated next move is: f6e8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('f6e8')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('f6e8')}
chess move loaded successfully
board: r . b q n r k .
. p . . b p p p
. . n p . . . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . b q n r k .
. p . . b p p p
. . n p . . . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . b q n r k .
. p . . b p p p
. . n p . . . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+51), WHITE), 'nodes': 6204, 'nps': 1240800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('e2g4'), Move.from_uci('c8e6'), Move.from_uci('e1c2'), Move.from_uci('e8f6'), Move.from_uci('g4e2'), Move.from_uci('f6d7'), Move.from_uci('g2g3')]}]
Normalized mate score is: None
Normalized centipawn score is: 51
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . b q . r k .
. p . . b p p p
. . n p . n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 51
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 51
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 19, 'curr_turn': 'B10', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 19, 'curr_turn': 'B10', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qd7', 'Qc7', 'Qb6', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
curr_turn: B10
moves_not_in_Q_table: ['Kh8', 'Re8', 'Qe8', 'Ne8']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Kh8', 'Re8', 'Qe8', 'Ne8']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Kh8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Re8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qe8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ne8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Be6
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Be6
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Be6
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Be6
Current turn is: B10
Current Q value is: 59.1868332032
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Be6
curr_turn: B10
pts: 59.1868332032
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Be6
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Be6
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Be6
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Be6
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+56), WHITE), 'nodes': 10135, 'nps': 1126111, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('e5g6'), Move.from_uci('f4e3')]}]
Normalized mate score is: None
Normalized centipawn score is: 56
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 56}
Reward for move is: 56
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 56 for playing move: Be6
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 20
curr_turn: W11
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+52), WHITE), 'nodes': 9560, 'nps': 1365714, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('e1c2'), Move.from_uci('f6d7'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('d7e5'), Move.from_uci('d1d2')]}]
Normalized mate score is: None
Normalized centipawn score is: 52
Anticipated next move is: e1c2
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 52, 'anticipated_next_move': Move.from_uci('e1c2')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 52, 'anticipated_next_move': Move.from_uci('e1c2')}
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P N . B P P P
. R B Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P N . B P P P
. R B Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P N . B P P P
. R B Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-33), BLACK), 'nodes': 2798, 'nps': 932666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('f6d7'), Move.from_uci('f2f4'), Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('f7f5')]}]
Normalized mate score is: None
Normalized centipawn score is: 33
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 33
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 33
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 39.7833554432
Learning rate is: 0.6
Reward is: 25
Discount factor is: 0.3
Estimated Q value is: 51
Next Q value is: 40.09334217728
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 59.1868332032
Learning rate is: 0.2
Reward is: 56
Discount factor is: 0.8
Estimated Q value is: 33
Next Q value is: 63.82946656256
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 40.09334217728
B next Q val is: 63.82946656256
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 20
curr_turn: W11
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P . . .
P . N P . . . .
. P . . B P P P
. R B Q N R K .
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
White agent picks move from state: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 20, 'curr_turn': 'W11', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']}
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kh1', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bh6', 'Bg5', 'Bf4', 'Be3', 'Bd2', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'f3', 'b3', 'h4', 'g4', 'f4', 'b4']
curr_turn: W11
moves_not_in_Q_table: ['Bh5', 'Bg4', 'Bf3']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Bh5', 'Bg4', 'Bf3']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Bh5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bg4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bf3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: f4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: f4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: f4
on turn: 20
White agent assigns points to Q table for move: f4
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: f4
Current turn is: W11
Current Q value is: 40.09334217728
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: f4
curr_turn: W11
pts: 40.09334217728
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: f4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: f4
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: f4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: f4
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-32), BLACK), 'nodes': 9434, 'nps': 1347714, 'tbhits': 0, 'time': 0.007, 'pv': [Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('a5a4')]}]
Normalized mate score is: None
Normalized centipawn score is: 32
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 32}
Reward for move is: 32
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: f4
White agent got reward: 32
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 21
curr_turn: B11
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 21, 'curr_turn': 'B11', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 21, 'curr_turn': 'B11', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(-34), BLACK), 'nodes': 4415, 'nps': 1103750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e5f4'), Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('a5a4'), Move.from_uci('b2b4'), Move.from_uci('a4b3'), Move.from_uci('b1b3'), Move.from_uci('e7f6'), Move.from_uci('b3b7')]}]
Normalized mate score is: None
Normalized centipawn score is: 34
Anticipated next move is: e5f4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 34, 'anticipated_next_move': Move.from_uci('e5f4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 34, 'anticipated_next_move': Move.from_uci('e5f4')}
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+37), WHITE), 'nodes': 5313, 'nps': 1328250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('a5a4'), Move.from_uci('b1d1'), Move.from_uci('e7h4'), Move.from_uci('g1h1')]}]
Normalized mate score is: None
Normalized centipawn score is: 37
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . p . . .
. . P . P P . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 37
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 37
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 21, 'curr_turn': 'B11', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 21, 'curr_turn': 'B11', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'exf4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
curr_turn: B11
moves_not_in_Q_table: ['Qc8', 'Qb8', 'Rc8', 'Bd5', 'Bxc4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Qc8', 'Qb8', 'Rc8', 'Bd5', 'Bxc4']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Qc8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Qb8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rc8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bd5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bxc4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0    0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: exf4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: exf4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: exf4
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: exf4
Current turn is: B11
Current Q value is: 63.82946656256
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: exf4
curr_turn: B11
pts: 63.82946656256
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: exf4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: exf4
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: exf4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: exf4
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+20), WHITE), 'nodes': 7333, 'nps': 1222166, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('c3b5'), Move.from_uci('d7e5'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('f4g5')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 20}
Reward for move is: 20
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 20 for playing move: exf4
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 22
curr_turn: W12
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+20), WHITE), 'nodes': 4724, 'nps': 1181000, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('c1f4'), Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('g1h1'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('d8g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
Anticipated next move is: c1f4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('c1f4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('c1f4')}
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-20), BLACK), 'nodes': 2487, 'nps': 1243500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('g1h1'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('d8g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 20
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 20
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 40.09334217728
Learning rate is: 0.6
Reward is: 32
Discount factor is: 0.3
Estimated Q value is: 37
Next Q value is: 41.897336870912
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 63.82946656256
Learning rate is: 0.2
Reward is: 20
Discount factor is: 0.8
Estimated Q value is: 20
Next Q value is: 58.263573250048
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 41.897336870912
B next Q val is: 58.263573250048
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 22
curr_turn: W12
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P p . .
P . N P . . . .
. P . . B . P P
. R B Q N R K .
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 22, 'curr_turn': 'W12', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rxf4', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Bxf4', 'Be3', 'Bd2', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W12
moves_not_in_Q_table: ['Kf2', 'Rxf4', 'Rf3', 'Rf2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Kf2', 'Rxf4', 'Rf3', 'Rf2']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Kf2    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rxf4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf2    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bxf4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Bxf4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Bxf4
on turn: 22
White agent assigns points to Q table for move: Bxf4
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bxf4
Current turn is: W12
Current Q value is: 41.897336870912
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bxf4
curr_turn: W12
pts: 41.897336870912
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bxf4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Bxf4
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bxf4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bxf4
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-20), BLACK), 'nodes': 1668, 'nps': 834000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('g1h1'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('d8g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 20}
Reward for move is: 20
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Bxf4
White agent got reward: 20
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 23
curr_turn: B12
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 23, 'curr_turn': 'B12', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 23, 'curr_turn': 'B12', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-20), BLACK), 'nodes': 1110, 'nps': 1110000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('f6d7'), Move.from_uci('e1c2'), Move.from_uci('d7e5'), Move.from_uci('g1h1'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('d8g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 20
Anticipated next move is: f6d7
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('f6d7')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 20, 'anticipated_next_move': Move.from_uci('f6d7')}
chess move loaded successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+15), WHITE), 'nodes': 15045, 'nps': 1253750, 'tbhits': 0, 'time': 0.012, 'pv': [Move.from_uci('c3b5'), Move.from_uci('d7e5'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b1d1'), Move.from_uci('g5f4'), Move.from_uci('d2f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 15
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b n . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 15
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 15
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 23, 'curr_turn': 'B12', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 23, 'curr_turn': 'B12', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Ne8', 'Nd7', 'Nh5', 'Nd5', 'Ng4', 'Nxe4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Ne5', 'Nd4', 'Nb4', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
curr_turn: B12
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nd7
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Nd7
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Nd7
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nd7
Current turn is: B12
Current Q value is: 58.263573250048
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nd7
curr_turn: B12
pts: 58.263573250048
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nd7
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Nd7
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nd7
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nd7
chess move loaded successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+10), WHITE), 'nodes': 14768, 'nps': 1476800, 'tbhits': 0, 'time': 0.01, 'pv': [Move.from_uci('d1d2'), Move.from_uci('d7e5'), Move.from_uci('e1c2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5')]}]
Normalized mate score is: None
Normalized centipawn score is: 10
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 10}
Reward for move is: 10
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 10 for playing move: Nd7
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 24
curr_turn: W13
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
legal_moves: ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+16), WHITE), 'nodes': 7695, 'nps': 1282500, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('h2h3'), Move.from_uci('d7e5'), Move.from_uci('f4h2'), Move.from_uci('f7f5'), Move.from_uci('g1h1'), Move.from_uci('f5e4'), Move.from_uci('f1f8'), Move.from_uci('e7f8')]}]
Normalized mate score is: None
Normalized centipawn score is: 16
Anticipated next move is: h2h3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 16, 'anticipated_next_move': Move.from_uci('h2h3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 16, 'anticipated_next_move': Move.from_uci('h2h3')}
chess move loaded successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . P
. P . . B . P .
. R . Q N R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . P
. P . . B . P .
. R . Q N R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . P
. P . . B . P .
. R . Q N R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-12), BLACK), 'nodes': 5036, 'nps': 1259000, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('d7e5'), Move.from_uci('e1c2'), Move.from_uci('e7g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4'), Move.from_uci('c2d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 12
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 12
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 41.897336870912
Learning rate is: 0.6
Reward is: 20
Discount factor is: 0.3
Estimated Q value is: 15
Next Q value is: 31.4589347483648
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 58.263573250048
Learning rate is: 0.2
Reward is: 10
Discount factor is: 0.8
Estimated Q value is: 12
Next Q value is: 50.5308586000384
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 31.4589347483648
B next Q val is: 50.5308586000384
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 24
curr_turn: W13
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P . . B . P P
. R . Q N R K .
legal_moves: ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 24, 'curr_turn': 'W13', 'legal_moves': ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Bh6', 'Bxd6', 'Bg5', 'Be5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Nf3', 'Nc2', 'Qa4', 'Qb3', 'Qd2', 'Qc2', 'Qc1', 'Rc1', 'Ra1', 'e5', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W13
moves_not_in_Q_table: ['Bxd6', 'Be5', 'Bg3', 'Bc1', 'Rc1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Bxd6', 'Be5', 'Bg3', 'Bc1', 'Rc1']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Bxd6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Be5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bg3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bc1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rc1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nc2
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Nc2
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Nc2
on turn: 24
White agent assigns points to Q table for move: Nc2
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nc2
Current turn is: W13
Current Q value is: 31.4589347483648
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nc2
curr_turn: W13
pts: 31.4589347483648
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nc2
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Nc2
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nc2
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nc2
chess move loaded successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-13), BLACK), 'nodes': 1696, 'nps': 848000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5')]}]
Normalized mate score is: None
Normalized centipawn score is: 13
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 13}
Reward for move is: 13
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Nc2
White agent got reward: 13
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 25
curr_turn: B13
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 25, 'curr_turn': 'B13', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 25, 'curr_turn': 'B13', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-13), BLACK), 'nodes': 1049, 'nps': 1049000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('d7e5'), Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5'), Move.from_uci('h2h3')]}]
Normalized mate score is: None
Normalized centipawn score is: 13
Anticipated next move is: d7e5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 13, 'anticipated_next_move': Move.from_uci('d7e5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 13, 'anticipated_next_move': Move.from_uci('d7e5')}
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+12), WHITE), 'nodes': 5232, 'nps': 1046400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5'), Move.from_uci('h2h3'), Move.from_uci('g5g4'), Move.from_uci('b4c5'), Move.from_uci('g4h3')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . n b p p p
. . n p b . . .
p . p . . . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 12
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 12
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 25, 'curr_turn': 'B13', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 25, 'curr_turn': 'B13', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Ndb8', 'Nf6', 'Nb6', 'Nde5', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Ncb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']
curr_turn: B13
moves_not_in_Q_table: ['Bf6', 'Bh4', 'Ndb8', 'Nb6', 'Ncb8', 'Nce5']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Bf6', 'Bh4', 'Ndb8', 'Nb6', 'Ncb8', 'Nce5']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Bf6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Bh4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ndb8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nb6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ncb8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nde5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Nde5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Nde5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nde5
Current turn is: B13
Current Q value is: 50.5308586000384
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nde5
curr_turn: B13
pts: 50.5308586000384
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nde5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Nde5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nde5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nde5
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+12), WHITE), 'nodes': 4532, 'nps': 1133000, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5'), Move.from_uci('h2h3'), Move.from_uci('g5g4'), Move.from_uci('b4c5'), Move.from_uci('g4h3')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 12}
Reward for move is: 12
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 12 for playing move: Nde5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 26
curr_turn: W14
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
legal_moves: ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+12), WHITE), 'nodes': 2490, 'nps': 830000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('d1d2'), Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5'), Move.from_uci('h2h3'), Move.from_uci('g5g4'), Move.from_uci('b4c5'), Move.from_uci('g4h3')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
Anticipated next move is: d1d2
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 12, 'anticipated_next_move': Move.from_uci('d1d2')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 12, 'anticipated_next_move': Move.from_uci('d1d2')}
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N Q B . P P
. R . . . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N Q B . P P
. R . . . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N Q B . P P
. R . . . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-12), BLACK), 'nodes': 1555, 'nps': 777500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('h7h6'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('e7g5'), Move.from_uci('f4g5'), Move.from_uci('h6g5'), Move.from_uci('h2h3'), Move.from_uci('g5g4'), Move.from_uci('b4c5'), Move.from_uci('g4h3')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 12
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 12
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 31.4589347483648
Learning rate is: 0.6
Reward is: 13
Discount factor is: 0.3
Estimated Q value is: 12
Next Q value is: 22.54357389934592
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 50.5308586000384
Learning rate is: 0.2
Reward is: 12
Discount factor is: 0.8
Estimated Q value is: 12
Next Q value is: 44.74468688003072
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 22.54357389934592
B next Q val is: 44.74468688003072
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 26
curr_turn: W14
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R K .
legal_moves: ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 26, 'curr_turn': 'W14', 'legal_moves': ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Bh6', 'Bg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kf2', 'Kh1', 'Rf3', 'Rf2', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W14
moves_not_in_Q_table: ['Bxe5', 'Nb4', 'Ne3', 'Na1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Bxe5', 'Nb4', 'Ne3', 'Na1']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Bxe5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nb4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ne3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na1    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Kh1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Kh1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Kh1
on turn: 26
White agent assigns points to Q table for move: Kh1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Kh1
Current turn is: W14
Current Q value is: 22.54357389934592
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Kh1
curr_turn: W14
pts: 22.54357389934592
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Kh1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Kh1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Kh1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Kh1
chess move loaded successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+8), BLACK), 'nodes': 4409, 'nps': 1102250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e7g5'), Move.from_uci('f4g3'), Move.from_uci('f7f5'), Move.from_uci('d3d4'), Move.from_uci('c5d4'), Move.from_uci('c2d4'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: -8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -8}
Reward for move is: -8
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Kh1
White agent got reward: -8
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 27
curr_turn: B14
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 27, 'curr_turn': 'B14', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 27, 'curr_turn': 'B14', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-3), BLACK), 'nodes': 8052, 'nps': 1342000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('e7g5'), Move.from_uci('f4g3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('f5g6')]}]
Normalized mate score is: None
Normalized centipawn score is: 3
Anticipated next move is: e7g5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 3, 'anticipated_next_move': Move.from_uci('e7g5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 3, 'anticipated_next_move': Move.from_uci('e7g5')}
chess move loaded successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+7), WHITE), 'nodes': 3933, 'nps': 983250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f4g3'), Move.from_uci('f7f5'), Move.from_uci('c3d5'), Move.from_uci('e6d5'), Move.from_uci('e4d5'), Move.from_uci('c6d4'), Move.from_uci('c2d4'), Move.from_uci('c5d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 7
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . b p p p
. . n p b . . .
p . p . n . . .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 7
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 7
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 27, 'curr_turn': 'B14', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 27, 'curr_turn': 'B14', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qd7', 'Qc7', 'Qb6', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bf6', 'Bg5', 'Bh4', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5', 'b5']
curr_turn: B14
moves_not_in_Q_table: ['Ng6', 'Nxc4', 'Nf3', 'Nxd3']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Ng6', 'Nxc4', 'Nf3', 'Nxd3']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Ng6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nxc4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nxd3   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bg5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Bg5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Bg5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bg5
Current turn is: B14
Current Q value is: 44.74468688003072
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bg5
curr_turn: B14
pts: 44.74468688003072
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bg5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Bg5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bg5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bg5
chess move loaded successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+4), WHITE), 'nodes': 2720, 'nps': 906666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('f4g3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('f5g6'), Move.from_uci('b4b5'), Move.from_uci('f8f1'), Move.from_uci('d1f1')]}]
Normalized mate score is: None
Normalized centipawn score is: 4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 4}
Reward for move is: 4
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 4 for playing move: Bg5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 28
curr_turn: W15
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+12), WHITE), 'nodes': 1004, 'nps': 1004000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('f4g3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5'), Move.from_uci('c3d5'), Move.from_uci('a5a4'), Move.from_uci('b2b4')]}]
Normalized mate score is: None
Normalized centipawn score is: 12
Anticipated next move is: f4g3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 12, 'anticipated_next_move': Move.from_uci('f4g3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 12, 'anticipated_next_move': Move.from_uci('f4g3')}
chess move loaded successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P . . .
P . N P . . B .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P . . .
P . N P . . B .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P . . .
P . N P . . B .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-9), BLACK), 'nodes': 1565, 'nps': 782500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5'), Move.from_uci('b2b4'), Move.from_uci('a5b4'), Move.from_uci('a3b4'), Move.from_uci('f5g6'), Move.from_uci('b4b5'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 9
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 9
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 9
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 22.54357389934592
Learning rate is: 0.6
Reward is: -8
Discount factor is: 0.3
Estimated Q value is: 7
Next Q value is: 5.477429559738368
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 44.74468688003072
Learning rate is: 0.2
Reward is: 4
Discount factor is: 0.8
Estimated Q value is: 9
Next Q value is: 38.03574950402458
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: 5.477429559738368
B next Q val is: 38.03574950402458
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 28
curr_turn: W15
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . b .
. . P . P B . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 28, 'curr_turn': 'W15', 'legal_moves': ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Bxg5', 'Bxe5', 'Bg3', 'Be3', 'Bd2', 'Bc1', 'Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W15
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bxg5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Bxg5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Bxg5
on turn: 28
White agent assigns points to Q table for move: Bxg5
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bxg5
Current turn is: W15
Current Q value is: 5.477429559738368
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bxg5
curr_turn: W15
pts: 5.477429559738368
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bxg5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Bxg5
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bxg5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bxg5
chess move loaded successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+19), BLACK), 'nodes': 9686, 'nps': 1210750, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('d8g5'), Move.from_uci('c3b5'), Move.from_uci('a8d8'), Move.from_uci('d1e1'), Move.from_uci('b7b6'), Move.from_uci('b1d1'), Move.from_uci('g7g6'), Move.from_uci('b5c3'), Move.from_uci('g5h6'), Move.from_uci('c3b5')]}]
Normalized mate score is: None
Normalized centipawn score is: -19
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -19}
Reward for move is: -19
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Bxg5
White agent got reward: -19
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 29
curr_turn: B15
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 29, 'curr_turn': 'B15', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 29, 'curr_turn': 'B15', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+4), BLACK), 'nodes': 7818, 'nps': 1303000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('d8g5'), Move.from_uci('c3b5'), Move.from_uci('f8d8'), Move.from_uci('d1e1'), Move.from_uci('g5h6'), Move.from_uci('b2b3'), Move.from_uci('a5a4'), Move.from_uci('b3a4'), Move.from_uci('a8a4')]}]
Normalized mate score is: None
Normalized centipawn score is: -4
Anticipated next move is: d8g5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -4, 'anticipated_next_move': Move.from_uci('d8g5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -4, 'anticipated_next_move': Move.from_uci('d8g5')}
chess move loaded successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+16), WHITE), 'nodes': 11914, 'nps': 1323777, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('b2b3'), Move.from_uci('e5g6'), Move.from_uci('d3d4'), Move.from_uci('c5d4'), Move.from_uci('c2d4'), Move.from_uci('c6d4'), Move.from_uci('d1d4')]}]
Normalized mate score is: None
Normalized centipawn score is: 16
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . q . r k .
. p . . . p p p
. . n p b . . .
p . p . n . B .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 16
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: 16
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 29, 'curr_turn': 'B15', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 29, 'curr_turn': 'B15', 'legal_moves': ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']}
legal_moves: ['Kh8', 'Re8', 'Qe8', 'Qc8', 'Qb8', 'Qe7', 'Qd7', 'Qc7', 'Qf6', 'Qb6', 'Qxg5', 'Rc8', 'Rb8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5', 'b5']
curr_turn: B15
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Qxg5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Qxg5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Qxg5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Qxg5
Current turn is: B15
Current Q value is: 38.03574950402458
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Qxg5
curr_turn: B15
pts: 38.03574950402458
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Qxg5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Qxg5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Qxg5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Qxg5
chess move loaded successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+21), WHITE), 'nodes': 11329, 'nps': 1416125, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('b2b3'), Move.from_uci('e6g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h2h3'), Move.from_uci('g4e3'), Move.from_uci('c2e3'), Move.from_uci('g5e3')]}]
Normalized mate score is: None
Normalized centipawn score is: 21
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 21}
Reward for move is: 21
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 21 for playing move: Qxg5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 30
curr_turn: W16
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(0), WHITE), 'nodes': 7685, 'nps': 1280833, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('b2b3'), Move.from_uci('e6g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h2h3'), Move.from_uci('g5e5'), Move.from_uci('d1g4'), Move.from_uci('e5c3'), Move.from_uci('c2e3'), Move.from_uci('c3d3')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
Anticipated next move is: b2b3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 0, 'anticipated_next_move': Move.from_uci('b2b3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 0, 'anticipated_next_move': Move.from_uci('b2b3')}
chess move loaded successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P P N P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P P N P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P P N P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(0), BLACK), 'nodes': 6039, 'nps': 1509750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e6g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h2h3'), Move.from_uci('g4e3'), Move.from_uci('c2e3'), Move.from_uci('g5e3')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 0
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 0
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 5.477429559738368
Learning rate is: 0.6
Reward is: -19
Discount factor is: 0.3
Estimated Q value is: 16
Next Q value is: -6.329028176104652
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 38.03574950402458
Learning rate is: 0.2
Reward is: 21
Discount factor is: 0.8
Estimated Q value is: 0
Next Q value is: 34.62859960321966
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -6.329028176104652
B next Q val is: 34.62859960321966
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 30
curr_turn: W16
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p . p . n . q .
. . P . P . . .
P . N P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 30, 'curr_turn': 'W16', 'legal_moves': ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Nd5', 'Nb5', 'Na4', 'Na2', 'Bh5', 'Bg4', 'Bf3', 'Nd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W16
moves_not_in_Q_table: ['Rxf7', 'Rf6', 'Rf5', 'Rf4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rxf7', 'Rf6', 'Rf5', 'Rf4']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rxf7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf6    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nb5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Nb5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Nb5
on turn: 30
White agent assigns points to Q table for move: Nb5
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nb5
Current turn is: W16
Current Q value is: -6.329028176104652
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nb5
curr_turn: W16
pts: -6.329028176104652
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nb5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Nb5
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nb5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nb5
chess move loaded successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+5), BLACK), 'nodes': 11816, 'nps': 1312888, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('a8d8'), Move.from_uci('b2b3'), Move.from_uci('e6c8'), Move.from_uci('d3d4'), Move.from_uci('e5g6'), Move.from_uci('d1c1'), Move.from_uci('g5c1'), Move.from_uci('b1c1')]}]
Normalized mate score is: None
Normalized centipawn score is: -5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -5}
Reward for move is: -5
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Nb5
White agent got reward: -5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 31
curr_turn: B16
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 31, 'curr_turn': 'B16', 'legal_moves': ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 31, 'curr_turn': 'B16', 'legal_moves': ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+7), BLACK), 'nodes': 5435, 'nps': 1087000, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('a8d8'), Move.from_uci('b2b3'), Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e3f5'), Move.from_uci('e6f5'), Move.from_uci('e4f5'), Move.from_uci('f8f5'), Move.from_uci('f1f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -7
Anticipated next move is: a8d8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -7, 'anticipated_next_move': Move.from_uci('a8d8')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -7, 'anticipated_next_move': Move.from_uci('a8d8')}
chess move loaded successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-26), WHITE), 'nodes': 12650, 'nps': 1405555, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('b2b3'), Move.from_uci('e6c8'), Move.from_uci('d1c1'), Move.from_uci('g5c1'), Move.from_uci('b1c1'), Move.from_uci('f7f5'), Move.from_uci('h1g1'), Move.from_uci('g7g5'), Move.from_uci('c1b1'), Move.from_uci('f5f4'), Move.from_uci('d3d4')]}]
Normalized mate score is: None
Normalized centipawn score is: -26
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: r . . . . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -26
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -26
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 31, 'curr_turn': 'B16', 'legal_moves': ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 31, 'curr_turn': 'B16', 'legal_moves': ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
legal_moves: ['Kh8', 'Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rad8', 'Rac8', 'Rab8', 'Ra7', 'Ra6', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nd8', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qd8', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
curr_turn: B16
moves_not_in_Q_table: ['Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rac8', 'Rab8', 'Nd8', 'Qd8', 'Qh6', 'Qg6', 'Qh5', 'Qf5', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rfe8', 'Rfd8', 'Rfc8', 'Rfb8', 'Rae8', 'Rac8', 'Rab8', 'Nd8', 'Qd8', 'Qh6', 'Qg6', 'Qh5', 'Qf5', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rfe8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfd8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfc8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfb8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rae8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Rad8
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Rad8
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Rad8
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Rad8
Current turn is: B16
Current Q value is: 34.62859960321966
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Rad8
curr_turn: B16
pts: 34.62859960321966
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Rad8
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Rad8
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Rad8
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Rad8
chess move loaded successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-26), WHITE), 'nodes': 4971, 'nps': 994200, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('b2b3'), Move.from_uci('e6c8'), Move.from_uci('d1c1'), Move.from_uci('g5c1'), Move.from_uci('b1c1'), Move.from_uci('f7f5'), Move.from_uci('h1g1'), Move.from_uci('g7g5')]}]
Normalized mate score is: None
Normalized centipawn score is: -26
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -26}
Reward for move is: -26
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -26 for playing move: Rad8
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 32
curr_turn: W17
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-5), WHITE), 'nodes': 8100, 'nps': 1350000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('d1c1'), Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -5
Anticipated next move is: d1c1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -5, 'anticipated_next_move': Move.from_uci('d1c1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -5, 'anticipated_next_move': Move.from_uci('d1c1')}
chess move loaded successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R Q . . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R Q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R Q . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+70), BLACK), 'nodes': 11889, 'nps': 1321000, 'tbhits': 0, 'time': 0.009, 'pv': [Move.from_uci('g5c1'), Move.from_uci('b1c1'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('e6f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -70
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -70
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -70
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -6.329028176104652
Learning rate is: 0.6
Reward is: -5
Discount factor is: 0.3
Estimated Q value is: -26
Next Q value is: -10.21161127044186
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 34.62859960321966
Learning rate is: 0.2
Reward is: -26
Discount factor is: 0.8
Estimated Q value is: -70
Next Q value is: 11.302879682575728
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -10.21161127044186
B next Q val is: 11.302879682575728
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 32
curr_turn: W17
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P . . P . . . .
. P N . B . P P
. R . Q . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
White agent picks move from state: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 32, 'curr_turn': 'W17', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rc1', 'Ra1', 'd4', 'a4', 'h3', 'g3', 'b3', 'h4', 'g4', 'b4']
curr_turn: W17
moves_not_in_Q_table: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Ncd4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Ncd4']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Nc7    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Na7    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nxd6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nbd4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ncd4   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: b3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: b3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: b3
on turn: 32
White agent assigns points to Q table for move: b3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: b3
Current turn is: W17
Current Q value is: -10.21161127044186
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: b3
curr_turn: W17
pts: -10.21161127044186
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: b3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: b3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: b3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: b3
chess move loaded successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(+15), BLACK), 'nodes': 7350, 'nps': 1470000, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('e6c8'), Move.from_uci('d1c1'), Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e3f5'), Move.from_uci('c8f5'), Move.from_uci('e4f5'), Move.from_uci('f8f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -15
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -15}
Reward for move is: -15
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: b3
White agent got reward: -15
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 33
curr_turn: B17
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 33, 'curr_turn': 'B17', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 33, 'curr_turn': 'B17', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+15), BLACK), 'nodes': 3454, 'nps': 863500, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e6c8'), Move.from_uci('d1c1'), Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e3f5'), Move.from_uci('c8f5'), Move.from_uci('e4f5'), Move.from_uci('f8f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -15
Anticipated next move is: e6c8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -15, 'anticipated_next_move': Move.from_uci('e6c8')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -15, 'anticipated_next_move': Move.from_uci('e6c8')}
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-10), WHITE), 'nodes': 2272, 'nps': 1136000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d1c1'), Move.from_uci('g5c1'), Move.from_uci('f1c1'), Move.from_uci('f7f5'), Move.from_uci('h1g1'), Move.from_uci('f5e4'), Move.from_uci('d3e4')]}]
Normalized mate score is: None
Normalized centipawn score is: -10
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . r k .
. p . . . p p p
. . n p b . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -10
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -10
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 33, 'curr_turn': 'B17', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 33, 'curr_turn': 'B17', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Bc8', 'Bd7', 'Bf5', 'Bd5', 'Bg4', 'Bxc4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
curr_turn: B17
moves_not_in_Q_table: ['Rde8', 'Ra8', 'Rd7']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rde8', 'Ra8', 'Rd7']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rde8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ra8    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd7    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bc8
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Bc8
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Bc8
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bc8
Current turn is: B17
Current Q value is: 11.302879682575728
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bc8
curr_turn: B17
pts: 11.302879682575728
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bc8
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Bc8
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bc8
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bc8
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-20), WHITE), 'nodes': 4175, 'nps': 1043750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('d1c1'), Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e3f5'), Move.from_uci('c8f5'), Move.from_uci('f1f5'), Move.from_uci('f8f5'), Move.from_uci('e4f5'), Move.from_uci('g6f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -20
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -20}
Reward for move is: -20
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -20 for playing move: Bc8
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 34
curr_turn: W18
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-6), WHITE), 'nodes': 3027, 'nps': 1009000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('d3d4'), Move.from_uci('e5g6'), Move.from_uci('d1c1'), Move.from_uci('g5h4'), Move.from_uci('e2d3'), Move.from_uci('c5d4'), Move.from_uci('c2d4'), Move.from_uci('c6d4')]}]
Normalized mate score is: None
Normalized centipawn score is: -6
Anticipated next move is: d3d4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -6, 'anticipated_next_move': Move.from_uci('d3d4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -6, 'anticipated_next_move': Move.from_uci('d3d4')}
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P P P . . .
P P . . . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P P P . . .
P P . . . . . .
. . N . B . P P
. R . Q . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P P P . . .
P P . . . . . .
. . N . B . P P
. R . Q . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 7, 'multipv': 1, 'score': PovScore(Cp(+35), BLACK), 'nodes': 4059, 'nps': 1014750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e5g4'), Move.from_uci('e2g4'), Move.from_uci('c8g4'), Move.from_uci('d1c1'), Move.from_uci('g5c1'), Move.from_uci('b1c1')]}]
Normalized mate score is: None
Normalized centipawn score is: -35
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -35
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -35
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -10.21161127044186
Learning rate is: 0.6
Reward is: -15
Discount factor is: 0.3
Estimated Q value is: -10
Next Q value is: -14.884644508176745
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: 11.302879682575728
Learning rate is: 0.2
Reward is: -20
Discount factor is: 0.8
Estimated Q value is: -35
Next Q value is: -0.5576962539394188
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -14.884644508176745
B next Q val is: -0.5576962539394188
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 34
curr_turn: W18
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R . Q . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
White agent picks move from state: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 34, 'curr_turn': 'W18', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Re1', 'Qd2', 'Qe1', 'Qc1', 'Rb2', 'Rc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
curr_turn: W18
moves_not_in_Q_table: ['Rb2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rb2']
q_table_new_values:      W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rb2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[1 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Qc1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Qc1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Qc1
on turn: 34
White agent assigns points to Q table for move: Qc1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Qc1
Current turn is: W18
Current Q value is: -14.884644508176745
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Qc1
curr_turn: W18
pts: -14.884644508176745
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Qc1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Qc1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Qc1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Qc1
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(+20), BLACK), 'nodes': 2230, 'nps': 1115000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('c8f5'), Move.from_uci('e3f5'), Move.from_uci('f8f5'), Move.from_uci('f1f5'), Move.from_uci('g6f5'), Move.from_uci('c1d2')]}]
Normalized mate score is: None
Normalized centipawn score is: -20
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -20}
Reward for move is: -20
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Qc1
White agent got reward: -20
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 35
curr_turn: B18
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 35, 'curr_turn': 'B18', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 35, 'curr_turn': 'B18', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(+22), BLACK), 'nodes': 1147, 'nps': 573500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('g5g6'), Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('c8f5'), Move.from_uci('e3f5'), Move.from_uci('f8f5'), Move.from_uci('f1f5'), Move.from_uci('g6f5')]}]
Normalized mate score is: None
Normalized centipawn score is: -22
Anticipated next move is: g5g6
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -22, 'anticipated_next_move': Move.from_uci('g5g6')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -22, 'anticipated_next_move': Move.from_uci('g5g6')}
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . q .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . q .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . q .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-16), WHITE), 'nodes': 4665, 'nps': 1166250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('c2e3'), Move.from_uci('f7f5'), Move.from_uci('e4f5'), Move.from_uci('c8f5'), Move.from_uci('e3f5'), Move.from_uci('f8f5'), Move.from_uci('f1f5'), Move.from_uci('g6f5'), Move.from_uci('c1d2')]}]
Normalized mate score is: None
Normalized centipawn score is: -16
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . q .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R Q . . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -16
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -16
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 35, 'curr_turn': 'B18', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 35, 'curr_turn': 'B18', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']}
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Qe7', 'Qh6', 'Qg6', 'Qf6', 'Qh5', 'Qf5', 'Qh4', 'Qg4', 'Qf4', 'Qg3', 'Qe3', 'Qxg2+', 'Qd2', 'Qxc1', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'f5']
curr_turn: B18
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Qxc1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Qxc1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Qxc1
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Qxc1
Current turn is: B18
Current Q value is: -0.5576962539394188
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Qxc1
curr_turn: B18
pts: -0.5576962539394188
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Qxc1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Qxc1
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Qxc1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Qxc1
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-1), WHITE), 'nodes': 6977, 'nps': 1162833, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('b1c1'), Move.from_uci('f7f5'), Move.from_uci('h2h3'), Move.from_uci('g7g5'), Move.from_uci('c1d1'), Move.from_uci('f5e4'), Move.from_uci('f1f8'), Move.from_uci('g8f8'), Move.from_uci('d3e4')]}]
Normalized mate score is: None
Normalized centipawn score is: -1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -1}
Reward for move is: -1
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -1 for playing move: Qxc1
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 36
curr_turn: W19
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-5), WHITE), 'nodes': 5254, 'nps': 1050800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('b1c1'), Move.from_uci('f7f5'), Move.from_uci('h1g1'), Move.from_uci('g7g5'), Move.from_uci('e4f5'), Move.from_uci('c8f5'), Move.from_uci('d3d4'), Move.from_uci('f5c2'), Move.from_uci('d4e5'), Move.from_uci('f8f1'), Move.from_uci('e2f1')]}]
Normalized mate score is: None
Normalized centipawn score is: -5
Anticipated next move is: b1c1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -5, 'anticipated_next_move': Move.from_uci('b1c1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -5, 'anticipated_next_move': Move.from_uci('b1c1')}
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+10), BLACK), 'nodes': 3407, 'nps': 1135666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('f7f5'), Move.from_uci('h1g1'), Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('f1f8'), Move.from_uci('g8f8'), Move.from_uci('e2g4')]}]
Normalized mate score is: None
Normalized centipawn score is: -10
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -10
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -10
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -14.884644508176745
Learning rate is: 0.6
Reward is: -20
Discount factor is: 0.3
Estimated Q value is: -16
Next Q value is: -20.833857803270696
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -0.5576962539394188
Learning rate is: 0.2
Reward is: -1
Discount factor is: 0.8
Estimated Q value is: -10
Next Q value is: -2.246157003151535
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -20.833857803270696
B next Q val is: -2.246157003151535
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 36
curr_turn: W19
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. R q . . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
White agent picks move from state: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 36, 'curr_turn': 'W19', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rg1', 'Re1', 'Rd1', 'Rfxc1', 'Rb2', 'Rbxc1', 'Ra1', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
curr_turn: W19
moves_not_in_Q_table: ['Bd1', 'Rd1', 'Rfxc1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Bd1', 'Rd1', 'Rfxc1']
q_table_new_values:        W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Bd1     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd1     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfxc1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Rbxc1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Rbxc1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Rbxc1
on turn: 36
White agent assigns points to Q table for move: Rbxc1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Rbxc1
Current turn is: W19
Current Q value is: -20.833857803270696
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Rbxc1
curr_turn: W19
pts: -20.833857803270696
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Rbxc1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Rbxc1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Rbxc1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Rbxc1
chess move loaded successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-1), BLACK), 'nodes': 4433, 'nps': 1108250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f7f5'), Move.from_uci('h2h3'), Move.from_uci('g7g5'), Move.from_uci('c1d1'), Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('g5g4'), Move.from_uci('f1f8'), Move.from_uci('d8f8')]}]
Normalized mate score is: None
Normalized centipawn score is: 1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 1}
Reward for move is: 1
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Rbxc1
White agent got reward: 1
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 37
curr_turn: B19
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 37, 'curr_turn': 'B19', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 37, 'curr_turn': 'B19', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-1), BLACK), 'nodes': 1206, 'nps': 603000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f7f5'), Move.from_uci('h2h3'), Move.from_uci('g7g5'), Move.from_uci('c1d1'), Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('g5g4'), Move.from_uci('f1f8'), Move.from_uci('d8f8')]}]
Normalized mate score is: None
Normalized centipawn score is: 1
Anticipated next move is: f7f5
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 1, 'anticipated_next_move': Move.from_uci('f7f5')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 1, 'anticipated_next_move': Move.from_uci('f7f5')}
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(-2), WHITE), 'nodes': 3188, 'nps': 1062666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('h1g1'), Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('f1f8'), Move.from_uci('g8f8'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h2h3'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -2
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . p p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -2
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -2
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 37, 'curr_turn': 'B19', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 37, 'curr_turn': 'B19', 'legal_moves': ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']}
legal_moves: ['Kh8', 'Rfe8', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'h6', 'g6', 'f6', 'b6', 'd5', 'a4', 'h5', 'g5', 'f5']
curr_turn: B19
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: f5
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: f5
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: f5
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: f5
Current turn is: B19
Current Q value is: -2.246157003151535
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: f5
curr_turn: B19
pts: -2.246157003151535
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: f5
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: f5
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: f5
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: f5
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(0), WHITE), 'nodes': 2979, 'nps': 993000, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('h1g1'), Move.from_uci('f5f4'), Move.from_uci('d3d4'), Move.from_uci('c8g4'), Move.from_uci('c1e1'), Move.from_uci('f4f3'), Move.from_uci('g2f3'), Move.from_uci('e5f3'), Move.from_uci('e2f3')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 0}
Reward for move is: 0
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 0 for playing move: f5
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 38
curr_turn: W20
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(0), WHITE), 'nodes': 6689, 'nps': 1337800, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('h1g1'), Move.from_uci('g7g5'), Move.from_uci('d3d4'), Move.from_uci('c5d4'), Move.from_uci('c1d1'), Move.from_uci('f5e4'), Move.from_uci('f1f8'), Move.from_uci('g8f8')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
Anticipated next move is: h1g1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 0, 'anticipated_next_move': Move.from_uci('h1g1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': 0, 'anticipated_next_move': Move.from_uci('h1g1')}
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 9, 'multipv': 1, 'score': PovScore(Cp(0), BLACK), 'nodes': 7426, 'nps': 1237666, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('g7g5'), Move.from_uci('e4f5'), Move.from_uci('c8f5'), Move.from_uci('d3d4'), Move.from_uci('e5g6'), Move.from_uci('d4d5'), Move.from_uci('c6e5'), Move.from_uci('c2e3'), Move.from_uci('g6f4')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: 0
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: 0
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -20.833857803270696
Learning rate is: 0.6
Reward is: 1
Discount factor is: 0.3
Estimated Q value is: -2
Next Q value is: -8.09354312130828
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -2.246157003151535
Learning rate is: 0.2
Reward is: 0
Discount factor is: 0.8
Estimated Q value is: 0
Next Q value is: -1.7969256025212281
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -8.09354312130828
B next Q val is: -1.7969256025212281
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 38
curr_turn: W20
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . R . . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
White agent picks move from state: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 38, 'curr_turn': 'W20', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Bd1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rfd1', 'Rce1', 'Rcd1', 'Rb1', 'Ra1', 'exf5', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
curr_turn: W20
moves_not_in_Q_table: ['Rxf5', 'Rfe1', 'Rfd1', 'Rce1', 'exf5']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rxf5', 'Rfe1', 'Rfd1', 'Rce1', 'exf5']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rxf5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfe1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rfd1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rce1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
exf5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Rcd1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Rcd1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Rcd1
on turn: 38
White agent assigns points to Q table for move: Rcd1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Rcd1
Current turn is: W20
Current Q value is: -8.09354312130828
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Rcd1
curr_turn: W20
pts: -8.09354312130828
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Rcd1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Rcd1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Rcd1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Rcd1
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+36), BLACK), 'nodes': 4967, 'nps': 1241750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('f1f8'), Move.from_uci('d8f8'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1')]}]
Normalized mate score is: None
Normalized centipawn score is: -36
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -36}
Reward for move is: -36
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Rcd1
White agent got reward: -36
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 39
curr_turn: B20
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 39, 'curr_turn': 'B20', 'legal_moves': ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 39, 'curr_turn': 'B20', 'legal_moves': ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+39), BLACK), 'nodes': 1851, 'nps': 925500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f5e4'), Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('f1f8'), Move.from_uci('d8f8')]}]
Normalized mate score is: None
Normalized centipawn score is: -39
Anticipated next move is: f5e4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -39, 'anticipated_next_move': Move.from_uci('f5e4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -39, 'anticipated_next_move': Move.from_uci('f5e4')}
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-32), WHITE), 'nodes': 1812, 'nps': 906000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -32
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n p . .
. . P . P . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -32
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -32
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 39, 'curr_turn': 'B20', 'legal_moves': ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 39, 'curr_turn': 'B20', 'legal_moves': ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']}
legal_moves: ['Kh8', 'Kf7', 'Rfe8', 'Rf7', 'Rf6', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nxd3', 'fxe4', 'h6', 'g6', 'b6', 'd5', 'f4', 'a4', 'h5', 'g5']
curr_turn: B20
moves_not_in_Q_table: ['Kf7', 'Rf7', 'Rf6', 'Nf7', 'f4']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Kf7', 'Rf7', 'Rf6', 'Nf7', 'f4']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Kf7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf7   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
f4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: fxe4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: fxe4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: fxe4
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: fxe4
Current turn is: B20
Current Q value is: -1.7969256025212281
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: fxe4
curr_turn: B20
pts: -1.7969256025212281
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: fxe4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: fxe4
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: fxe4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: fxe4
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-32), WHITE), 'nodes': 966, 'nps': 483000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -32
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -32}
Reward for move is: -32
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -32 for playing move: fxe4
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 40
curr_turn: W21
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 8, 'multipv': 1, 'score': PovScore(Cp(-32), WHITE), 'nodes': 877, 'nps': 877000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('d3e4'), Move.from_uci('c8g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -32
Anticipated next move is: d3e4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -32, 'anticipated_next_move': Move.from_uci('d3e4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -32, 'anticipated_next_move': Move.from_uci('d3e4')}
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+36), BLACK), 'nodes': 2902, 'nps': 967333, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('c8g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -36
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -36
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -36
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -8.09354312130828
Learning rate is: 0.6
Reward is: -36
Discount factor is: 0.3
Estimated Q value is: -32
Next Q value is: -30.59741724852331
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -1.7969256025212281
Learning rate is: 0.2
Reward is: -32
Discount factor is: 0.8
Estimated Q value is: -36
Next Q value is: -13.597540482016981
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -30.59741724852331
B next Q val is: -13.597540482016981
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 40
curr_turn: W21
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . p . . .
P P . P . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
White agent picks move from state: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 40, 'curr_turn': 'W21', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bh5', 'Bg4', 'Bf3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'dxe4', 'd4', 'b4', 'a4', 'h3', 'g3', 'h4', 'g4']
curr_turn: W21
moves_not_in_Q_table: ['Rf7', 'Rd2', 'Rde1']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rf7', 'Rd2', 'Rde1']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rf7    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd2    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rde1   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[3 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: dxe4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: dxe4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: dxe4
on turn: 40
White agent assigns points to Q table for move: dxe4
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: dxe4
Current turn is: W21
Current Q value is: -30.59741724852331
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: dxe4
curr_turn: W21
pts: -30.59741724852331
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: dxe4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: dxe4
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: dxe4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: dxe4
chess move loaded successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+40), BLACK), 'nodes': 1063, 'nps': 531500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('c8g4'), Move.from_uci('f1e1'), Move.from_uci('f8f2'), Move.from_uci('e2g4'), Move.from_uci('f2c2'), Move.from_uci('g4f5'), Move.from_uci('g8f8')]}]
Normalized mate score is: None
Normalized centipawn score is: -40
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -40}
Reward for move is: -40
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: dxe4
White agent got reward: -40
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 41
curr_turn: B21
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 41, 'curr_turn': 'B21', 'legal_moves': ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 41, 'curr_turn': 'B21', 'legal_moves': ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+24), BLACK), 'nodes': 2905, 'nps': 968333, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('c8g4'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('h7h5'), Move.from_uci('f1f4'), Move.from_uci('g4f6'), Move.from_uci('c2e3')]}]
Normalized mate score is: None
Normalized centipawn score is: -24
Anticipated next move is: c8g4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -24, 'anticipated_next_move': Move.from_uci('c8g4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -24, 'anticipated_next_move': Move.from_uci('c8g4')}
chess move loaded successfully
board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(-22), WHITE), 'nodes': 2434, 'nps': 1217000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6'), Move.from_uci('f1f4')]}]
Normalized mate score is: None
Normalized centipawn score is: -22
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . b r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . . .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -22
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -22
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 41, 'curr_turn': 'B21', 'legal_moves': ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 41, 'curr_turn': 'B21', 'legal_moves': ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
legal_moves: ['Kh8', 'Rfe8', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Rde8', 'Rd7', 'Bd7', 'Be6', 'Bf5', 'Bg4', 'Bh3', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Ng4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
curr_turn: B21
moves_not_in_Q_table: ['Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Nd3']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rxf1+', 'Nd3']
q_table_new_values:        B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rf5     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf4     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf3     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rf2     0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rxf1+   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bg4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Bg4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Bg4
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bg4
Current turn is: B21
Current Q value is: -13.597540482016981
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bg4
curr_turn: B21
pts: -13.597540482016981
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bg4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Bg4
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bg4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bg4
chess move loaded successfully
board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-26), WHITE), 'nodes': 3407, 'nps': 1135666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('h7h5'), Move.from_uci('h2h3'), Move.from_uci('g4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -26
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -26}
Reward for move is: -26
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -26 for playing move: Bg4
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 42
curr_turn: W22
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(-30), WHITE), 'nodes': 4385, 'nps': 1096250, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6'), Move.from_uci('f1f4'), Move.from_uci('d8e8'), Move.from_uci('b5d6'), Move.from_uci('e8e7')]}]
Normalized mate score is: None
Normalized centipawn score is: -30
Anticipated next move is: e2g4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -30, 'anticipated_next_move': Move.from_uci('e2g4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -30, 'anticipated_next_move': Move.from_uci('e2g4')}
chess move loaded successfully
board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . R . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . R . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . R . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+49), BLACK), 'nodes': 2863, 'nps': 954333, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f1'), Move.from_uci('d1f1'), Move.from_uci('g4f6'), Move.from_uci('f1f4'), Move.from_uci('d8e8'), Move.from_uci('b5d6'), Move.from_uci('e8e7'), Move.from_uci('d6c8')]}]
Normalized mate score is: None
Normalized centipawn score is: -49
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -49
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -49
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -30.59741724852331
Learning rate is: 0.6
Reward is: -40
Discount factor is: 0.3
Estimated Q value is: -22
Next Q value is: -40.19896689940932
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -13.597540482016981
Learning rate is: 0.2
Reward is: -26
Discount factor is: 0.8
Estimated Q value is: -49
Next Q value is: -23.918032385613586
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -40.19896689940932
B next Q val is: -23.918032385613586
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 42
curr_turn: W22
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . R . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
White agent picks move from state: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 42, 'curr_turn': 'W22', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxf8+', 'Rf7', 'Rf6', 'Rf5', 'Rf4', 'Rf3', 'Rf2', 'Rg1', 'Rfe1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rde1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
curr_turn: W22
moves_not_in_Q_table: ['Rxd6', 'Rd5', 'Rd4', 'Rd3']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rxd6', 'Rd5', 'Rd4', 'Rd3']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rxd6   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd5    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd4    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Rd3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Rxf8+
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Rxf8+
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Rxf8+
on turn: 42
White agent assigns points to Q table for move: Rxf8+
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Rxf8+
Current turn is: W22
Current Q value is: -40.19896689940932
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Rxf8+
curr_turn: W22
pts: -40.19896689940932
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Rxf8+
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Rxf8+
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Rxf8+
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Rxf8+
chess move loaded successfully
board: . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 7, 'multipv': 1, 'score': PovScore(Cp(+71), BLACK), 'nodes': 398, 'nps': 199000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d8f8'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f2')]}]
Normalized mate score is: None
Normalized centipawn score is: -71
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -71}
Reward for move is: -71
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Rxf8+
White agent got reward: -71
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 43
curr_turn: B22
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
legal_moves: ['Kxf8', 'Rxf8']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 43, 'curr_turn': 'B22', 'legal_moves': ['Kxf8', 'Rxf8']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 43, 'curr_turn': 'B22', 'legal_moves': ['Kxf8', 'Rxf8']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 7, 'multipv': 1, 'score': PovScore(Cp(+71), BLACK), 'nodes': 521, 'nps': 260500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('d8f8'), Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f2')]}]
Normalized mate score is: None
Normalized centipawn score is: -71
Anticipated next move is: d8f8
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -71, 'anticipated_next_move': Move.from_uci('d8f8')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -71, 'anticipated_next_move': Move.from_uci('d8f8')}
chess move loaded successfully
board: . . . . . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . . . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . . . r k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(-75), WHITE), 'nodes': 1781, 'nps': 890500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('h1g1'), Move.from_uci('f8f2'), Move.from_uci('h2h3'), Move.from_uci('f2c2')]}]
Normalized mate score is: None
Normalized centipawn score is: -75
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . R k .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -75
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -75
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 43, 'curr_turn': 'B22', 'legal_moves': ['Kxf8', 'Rxf8']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 43, 'curr_turn': 'B22', 'legal_moves': ['Kxf8', 'Rxf8']}
legal_moves: ['Kxf8', 'Rxf8']
curr_turn: B22
moves_not_in_Q_table: ['Rxf8']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rxf8']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Rxf8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[1 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Kxf8
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Kxf8
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Kxf8
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Kxf8
Current turn is: B22
Current Q value is: -23.918032385613586
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Kxf8
curr_turn: B22
pts: -23.918032385613586
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Kxf8
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Kxf8
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Kxf8
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Kxf8
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(0), WHITE), 'nodes': 1738, 'nps': 579333, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('d1d6'), Move.from_uci('f8e7'), Move.from_uci('d6d5'), Move.from_uci('g4f2'), Move.from_uci('h1g1'), Move.from_uci('f2e4'), Move.from_uci('c2e3'), Move.from_uci('d8d5')]}]
Normalized mate score is: None
Normalized centipawn score is: 0
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': 0}
Reward for move is: 0
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: 0 for playing move: Kxf8
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 44
curr_turn: W23
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-31), WHITE), 'nodes': 2321, 'nps': 773666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('e2g4'), Move.from_uci('e5g4'), Move.from_uci('d1d6'), Move.from_uci('g4f2'), Move.from_uci('h1g1'), Move.from_uci('f2e4'), Move.from_uci('d6d8'), Move.from_uci('c6d8'), Move.from_uci('g2g3'), Move.from_uci('f8e7'), Move.from_uci('c2e3')]}]
Normalized mate score is: None
Normalized centipawn score is: -31
Anticipated next move is: e2g4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -31, 'anticipated_next_move': Move.from_uci('e2g4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -31, 'anticipated_next_move': Move.from_uci('e2g4')}
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(+47), BLACK), 'nodes': 1016, 'nps': 1016000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('e5g4'), Move.from_uci('d1d6'), Move.from_uci('g4f2'), Move.from_uci('h1g1'), Move.from_uci('f2e4'), Move.from_uci('d6d8'), Move.from_uci('c6d8')]}]
Normalized mate score is: None
Normalized centipawn score is: -47
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -47
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -47
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -40.19896689940932
Learning rate is: 0.6
Reward is: -71
Discount factor is: 0.3
Estimated Q value is: -75
Next Q value is: -72.17958675976372
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -23.918032385613586
Learning rate is: 0.2
Reward is: 0
Discount factor is: 0.8
Estimated Q value is: -47
Next Q value is: -26.654425908490868
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -72.17958675976372
B next Q val is: -26.654425908490868
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 44
curr_turn: W23
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . b .
P P . . . . . .
. . N . B . P P
. . . R . . . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
White agent picks move from state: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 44, 'curr_turn': 'W23', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Bxg4', 'Bf3', 'Bd3', 'Bf1', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'b4', 'a4', 'h3', 'g3', 'h4']
curr_turn: W23
moves_not_in_Q_table: ['Rf1+']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Rf1+']
q_table_new_values:       W1  W2  W3  W4  W5  W6  W7  W8  W9  W10  W11  W12  W13  ...  W38  W39  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
Rf1+   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[1 rows x 50 columns]
Q_table:      W1     W2      W3       W4        W5   W6   W7   W8   W9  W10  W11  ...  W40  W41  W42  W43  W44  W45  W46  W47  W48  W49  W50
e4   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf3   0  50.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
c4    0   0.00  40.148   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc3   0   0.00   0.000  17.9192   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Be2   0   0.00   0.000   0.0000  13.82768  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Bxg4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Bxg4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Bxg4
on turn: 44
White agent assigns points to Q table for move: Bxg4
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Bxg4
Current turn is: W23
Current Q value is: -72.17958675976372
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Bxg4
curr_turn: W23
pts: -72.17958675976372
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Bxg4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Bxg4
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Bxg4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Bxg4
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(+34), BLACK), 'nodes': 1068, 'nps': 534000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e5g4'), Move.from_uci('d1d6'), Move.from_uci('g4f2'), Move.from_uci('h1g1'), Move.from_uci('f2e4'), Move.from_uci('d6d8'), Move.from_uci('c6d8'), Move.from_uci('c2e3'), Move.from_uci('f8e7'), Move.from_uci('e3d5'), Move.from_uci('e7d7')]}]
Normalized mate score is: None
Normalized centipawn score is: -34
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -34}
Reward for move is: -34
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Bxg4
White agent got reward: -34
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 45
curr_turn: B23
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
legal_moves: ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 45, 'curr_turn': 'B23', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 45, 'curr_turn': 'B23', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+35), BLACK), 'nodes': 2218, 'nps': 1109000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('e5g4'), Move.from_uci('d1d6'), Move.from_uci('g4f2'), Move.from_uci('h1g1'), Move.from_uci('f2e4'), Move.from_uci('d6d8'), Move.from_uci('c6d8'), Move.from_uci('c2e3'), Move.from_uci('f8e7'), Move.from_uci('b3b4'), Move.from_uci('c5b4'), Move.from_uci('a3b4')]}]
Normalized mate score is: None
Normalized centipawn score is: -35
Anticipated next move is: e5g4
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -35, 'anticipated_next_move': Move.from_uci('e5g4')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -35, 'anticipated_next_move': Move.from_uci('e5g4')}
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-20), WHITE), 'nodes': 5981, 'nps': 1196200, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('h1g1'), Move.from_uci('f8e7'), Move.from_uci('d1f1'), Move.from_uci('c6e5'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3')]}]
Normalized mate score is: None
Normalized centipawn score is: -20
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . n . . .
. . P . P . B .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -20
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -20
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 45, 'curr_turn': 'B23', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 45, 'curr_turn': 'B23', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
legal_moves: ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nd4', 'Nb4', 'Nf7', 'Nd7', 'Ng6', 'Nxg4', 'Nxc4', 'Nf3', 'Nd3', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
curr_turn: B23
moves_not_in_Q_table: ['Kg8', 'Ke8']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Kg8', 'Ke8']
q_table_new_values:      B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Kg8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ke8   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[2 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nxg4
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Nxg4
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Nxg4
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nxg4
Current turn is: B23
Current Q value is: -26.654425908490868
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nxg4
curr_turn: B23
pts: -26.654425908490868
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nxg4
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Nxg4
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nxg4
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nxg4
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(-37), WHITE), 'nodes': 9238, 'nps': 1154750, 'tbhits': 0, 'time': 0.008, 'pv': [Move.from_uci('h1g1'), Move.from_uci('f8e7'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1e1')]}]
Normalized mate score is: None
Normalized centipawn score is: -37
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -37}
Reward for move is: -37
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -37 for playing move: Nxg4
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 46
curr_turn: W24
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 11, 'multipv': 1, 'score': PovScore(Cp(-30), WHITE), 'nodes': 6330, 'nps': 1266000, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('h1g1'), Move.from_uci('f8e7'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1e1'), Move.from_uci('e7f7'), Move.from_uci('e3d5'), Move.from_uci('e4f6')]}]
Normalized mate score is: None
Normalized centipawn score is: -30
Anticipated next move is: h1g1
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -30, 'anticipated_next_move': Move.from_uci('h1g1')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -30, 'anticipated_next_move': Move.from_uci('h1g1')}
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 13, 'multipv': 1, 'score': PovScore(Cp(+14), BLACK), 'nodes': 5572, 'nps': 1114400, 'tbhits': 0, 'time': 0.005, 'pv': [Move.from_uci('f8e7'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1f1'), Move.from_uci('e7e6'), Move.from_uci('e3d5'), Move.from_uci('e4f6'), Move.from_uci('b5c7'), Move.from_uci('e6d7')]}]
Normalized mate score is: None
Normalized centipawn score is: -14
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -14
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -14
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -72.17958675976372
Learning rate is: 0.6
Reward is: -34
Discount factor is: 0.3
Estimated Q value is: -20
Next Q value is: -52.87183470390549
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -26.654425908490868
Learning rate is: 0.2
Reward is: -37
Discount factor is: 0.8
Estimated Q value is: -14
Next Q value is: -30.963540726792694
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -52.87183470390549
B next Q val is: -30.963540726792694
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 46
curr_turn: W24
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . . K
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
White agent picks move from state: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 46, 'curr_turn': 'W24', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kg1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rg1', 'Rf1+', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
curr_turn: W24
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Kg1
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Kg1
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Kg1
on turn: 46
White agent assigns points to Q table for move: Kg1
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Kg1
Current turn is: W24
Current Q value is: -52.87183470390549
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Kg1
curr_turn: W24
pts: -52.87183470390549
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Kg1
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Kg1
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Kg1
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Kg1
chess move loaded successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 15, 'multipv': 1, 'score': PovScore(Cp(+14), BLACK), 'nodes': 4971, 'nps': 1242750, 'tbhits': 0, 'time': 0.004, 'pv': [Move.from_uci('f8e7'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1f1'), Move.from_uci('c6e5'), Move.from_uci('e3f5'), Move.from_uci('e7d7'), Move.from_uci('f5g7'), Move.from_uci('a5a4'), Move.from_uci('b3a4'), Move.from_uci('e5c4'), Move.from_uci('f1f7'), Move.from_uci('d7c6')]}]
Normalized mate score is: None
Normalized centipawn score is: -14
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -14}
Reward for move is: -14
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Kg1
White agent got reward: -14
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 47
curr_turn: B24
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
legal_moves: ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 47, 'curr_turn': 'B24', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 47, 'curr_turn': 'B24', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
going to self.find_estimated_Q_value
========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+14), BLACK), 'nodes': 1279, 'nps': 639500, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('f8e7'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1f1'), Move.from_uci('c6e5'), Move.from_uci('e3f5'), Move.from_uci('e7d7'), Move.from_uci('f5g7'), Move.from_uci('a5a4'), Move.from_uci('b3a4'), Move.from_uci('e5c4'), Move.from_uci('f1f7'), Move.from_uci('d7c6')]}]
Normalized mate score is: None
Normalized centipawn score is: -14
Anticipated next move is: f8e7
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -14, 'anticipated_next_move': Move.from_uci('f8e7')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -14, 'anticipated_next_move': Move.from_uci('f8e7')}
chess move loaded successfully
board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 15, 'multipv': 1, 'score': PovScore(Cp(-17), WHITE), 'nodes': 3275, 'nps': 1091666, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1e1'), Move.from_uci('e7f7'), Move.from_uci('e3f5'), Move.from_uci('g7g6'), Move.from_uci('f5h6'), Move.from_uci('f7g7'), Move.from_uci('h6g4'), Move.from_uci('e4d2')]}]
Normalized mate score is: None
Normalized centipawn score is: -17
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . k . .
. p . . . . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -17
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from self.find_estimated_Q_value
Estimated Q value for White is: -17
going to rl.agent_PICKS_MOVE_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 47, 'curr_turn': 'B24', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
RL agent color is: B
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 47, 'curr_turn': 'B24', 'legal_moves': ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']}
legal_moves: ['Kg8', 'Ke8', 'Kf7', 'Ke7', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Nb8', 'Ne7', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5']
curr_turn: B24
moves_not_in_Q_table: ['Nge5', 'Ne3', 'Nxh2', 'Nf2']
========== going to update_Q_table =========== 
========== Hello from Agent update_Q_table ==========

new_chess_moves: ['Nge5', 'Ne3', 'Nxh2', 'Nf2']
q_table_new_values:       B1  B2  B3  B4  B5  B6  B7  B8  B9  B10  B11  B12  B13  ...  B38  B39  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
Nge5   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Ne3    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nxh2   0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0
Nf2    0   0   0   0   0   0   0   0   0    0    0    0    0  ...    0    0    0    0    0    0    0    0    0    0    0    0    0

[4 rows x 50 columns]
Q_table:      B1     B2      B3       B4        B5   B6   B7   B8   B9  B10  B11  ...  B40  B41  B42  B43  B44  B45  B46  B47  B48  B49  B50
c5   50   0.00   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e6    0  53.72   0.000   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nc6   0   0.00  54.616   0.0000   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
Nf6   0   0.00   0.000  50.8528   0.00000  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0
e5    0   0.00   0.000   0.0000  51.64224  0.0  0.0  0.0  0.0  0.0  0.0  ...    0    0    0    0    0    0    0    0    0    0    0

[5 rows x 50 columns]
========== bye from Agent update_Q_table ==========


========== back from Agen update_Q_table =========== 
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Ke7
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
Black agent picked move: Ke7
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from rl.agent_PICKS_move_training_mode
Black chess move is: Ke7
going to assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Ke7
Current turn is: B24
Current Q value is: -30.963540726792694
RL agent color is: B
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Ke7
curr_turn: B24
pts: -30.963540726792694
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Ke7
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from assign_points_to_Q_table_training_mode
Black agent assigned points to Q table for move: Ke7
going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Ke7
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Ke7
chess move loaded successfully
board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-17), WHITE), 'nodes': 1224, 'nps': 612000, 'tbhits': 0, 'time': 0.002, 'pv': [Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1e1'), Move.from_uci('e7f7'), Move.from_uci('e3f5'), Move.from_uci('g7g6'), Move.from_uci('f5h6'), Move.from_uci('f7g7'), Move.from_uci('h6g4'), Move.from_uci('e4d2')]}]
Normalized mate score is: None
Normalized centipawn score is: -17
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -17}
Reward for move is: -17
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
B reward is: -17 for playing move: Ke7
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 48
curr_turn: W25
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to find_estimated_Q_value========== Hello from Bradley.find_estimated_Q_value ==========

going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: True
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 12, 'multipv': 1, 'score': PovScore(Cp(-17), WHITE), 'nodes': 1081, 'nps': 1081000, 'tbhits': 0, 'time': 0.001, 'pv': [Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1e1'), Move.from_uci('e7f7'), Move.from_uci('e3f5'), Move.from_uci('g7g6'), Move.from_uci('f5h6'), Move.from_uci('f7g7'), Move.from_uci('h6g4'), Move.from_uci('e4d2')]}]
Normalized mate score is: None
Normalized centipawn score is: -17
Anticipated next move is: h2h3
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -17, 'anticipated_next_move': Move.from_uci('h2h3')}
going to self.environ.load_chessboard_for_Q_est
========== Hello from Environ.load_chessboard_for_Q_est ==========

analysis_results: {'mate_score': None, 'centipawn_score': -17, 'anticipated_next_move': Move.from_uci('h2h3')}
chess move loaded successfully
board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . P
. . N . . . P .
. . . R . . K .
========== End of Environ.load_chessboard_for_Q_est ==========


and we're back from environ.load_chessboard_for_Q_est
going to analyze_board_state========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . P
. . N . . . P .
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . P
. . N . . . P .
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 14, 'multipv': 1, 'score': PovScore(Cp(+18), BLACK), 'nodes': 2410, 'nps': 803333, 'tbhits': 0, 'time': 0.003, 'pv': [Move.from_uci('g4f6'), Move.from_uci('c2e3'), Move.from_uci('f6e4'), Move.from_uci('d1f1'), Move.from_uci('c6e5')]}]
Normalized mate score is: None
Normalized centipawn score is: -18
========== Bye from Bradley.analyze_board_state ===========


and we're back from analyze_board_stategoing to self.environ.pop_chessboard
========== Hello from Environ.pop_chessboard ==========

chess move popped successfully
board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.pop_chessboard ==========


and we're back from self.environ.pop_chessboard
estimated q val is: -18
========== Bye from Bradley.find_estimated_Q_value ===========


and we're back from find_estimated_Q_valueestimated b q val is: -18
going to SARSA calculations
========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -52.87183470390549
Learning rate is: 0.6
Reward is: -14
Discount factor is: 0.3
Estimated Q value is: -17
Next Q value is: -32.6087338815622
========== Bye from Bradley.find_next_Qval ===========


========== Hello from Bradley.find_next_Qval ==========

Current Q value is: -30.963540726792694
Learning rate is: 0.2
Reward is: -17
Discount factor is: 0.8
Estimated Q value is: -18
Next Q value is: -31.050832581434154
========== Bye from Bradley.find_next_Qval ===========


and we're back from SARSA calculations methods, find_next_Qval
SARSA calc was successful
W next Q val is: -32.6087338815622
B next Q val is: -31.050832581434154
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 48
curr_turn: W25
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p N p . . . . .
. . P . P . n .
P P . . . . . .
. . N . . . P P
. . . R . . K .
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
White agent picks move from state: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
going to self.rl_agent_PICKS_move_training_mode
========== Hello from Bradley.rl_agent_PICKS_move_training_mode ==========

Current state is: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
RL agent color is: W
Game number is: Game 81328
going to rl_agent.choose_action
========== Hello from Agent choose_action ========== 

environ_state: {'turn_index': 48, 'curr_turn': 'W25', 'legal_moves': ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']}
legal_moves: ['Nc7', 'Na7', 'Nxd6', 'Nbd4', 'Nc3', 'Ncd4', 'Nb4', 'Ne3', 'Ne1', 'Na1', 'Kh1', 'Kf1', 'Rxd6', 'Rd5', 'Rd4', 'Rd3', 'Rd2', 'Rf1', 'Re1', 'Rc1', 'Rb1', 'Ra1', 'e5', 'b4', 'a4', 'h3', 'g3', 'h4']
curr_turn: W25
moves_not_in_Q_table: []
========== going to policy_training_mode ==========


========== Hello from Agent policy_training_mode ========== 

the selected chess move from db is: Nc3
========== bye from Agent policy_training_mode ========== 


and we're back from rl_agent.choose_action
White agent picked move: Nc3
========== Bye from Bradley.rl_agent_PICKS_move_training_mode ===========


and we're back from self.rl_agent_PICKS_move_training_mode
White agent picked move: Nc3
on turn: 48
White agent assigns points to Q table for move: Nc3
going to self.assign_points_to_Q_table_training_mode
========== Hello from Bradley.assign_points_to_Q_table_training_mode ==========

Chess move is: Nc3
Current turn is: W25
Current Q value is: -32.6087338815622
RL agent color is: W
and we're going to rl_agent.change_Q_table_pts
========== Hello from Agent change_Q_table_pts ==========

chess_move: Nc3
curr_turn: W25
pts: -32.6087338815622
========== bye from Agent change_Q_table_pts ==========


and we're back from rl_agent.change_Q_table_pts
White agent changed Q table points for move: Nc3
========== Bye from Bradley.assign_points_to_Q_table_training_mode ===========


and we're back from self.assign_points_to_Q_table_training_mode
White agent assigned points to Q table for move: Nc3
now going to rl_agent_PLAYS_move_training_mode
========== Hello from Bradley.rl_agent_PLAYS_move_training_mode ==========

Chess move is: Nc3
going to self.environ.load_chessboard
========== Hello from Environ.load_chessboard ==========

chess_move_str: Nc3
chess move loaded successfully
board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p . p . . . . .
. . P . P . n .
P P N . . . . .
. . N . . . P P
. . . R . . K .
========== End of Environ.load_chessboard ==========


and we're back from self.environ.load_chessboard
going to self.environ.update_curr_state
========== Hello from Environ.update_curr_state ==========

max_turn_index: 99
========== End of Environ.update_curr_state ==========

and we're back from self.environ.update_curr_state
going to self.analyze_board_state
========== Hello from Bradley.get_chessboard ==========

Chessboard looks like this:


 . . . r . . . .
. p . . k . p p
. . n p . . . .
p . p . . . . .
. . P . P . n .
P P N . . . . .
. . N . . . P P
. . . R . . K .

========== Bye from Bradley.get_chessboard ===========


========== Hello from Bradley.analyze_board_state ==========

Board is: . . . r . . . .
. p . . k . p p
. . n p . . . .
p . p . . . . .
. . P . P . n .
P P N . . . . .
. . N . . . P P
. . . R . . K .
is_for_est_Qval_analysis is: False
Analysis result is: [{'string': 'NNUE evaluation using nn-6877cd24400e.nnue enabled', 'depth': 8, 'seldepth': 10, 'multipv': 1, 'score': PovScore(Cp(+63), BLACK), 'nodes': 5874, 'nps': 979000, 'tbhits': 0, 'time': 0.006, 'pv': [Move.from_uci('e7e6'), Move.from_uci('h2h3'), Move.from_uci('g4f6'), Move.from_uci('c2e1'), Move.from_uci('d8e8'), Move.from_uci('e1f3'), Move.from_uci('h7h6')]}]
Normalized mate score is: None
Normalized centipawn score is: -63
========== Bye from Bradley.analyze_board_state ===========


and we're back from self.analyze_board_state
Analysis results are: {'mate_score': None, 'centipawn_score': -63}
Reward for move is: -63
========== Bye from Bradley.rl_agent_PLAYS_move_training_mode ===========


and we're back from rl_agent_PLAYS_move_training_mode
White agent played move: Nc3
White agent got reward: -63
going to self.environ.get_curr_state
========== Hello from Environ.get_curr_state ==========

going to get curr turn and get_legal_moves
========== Hello from Environ.get_curr_turn ==========

turn_index: 49
curr_turn: B25
========== End of Environ.get_curr_turn ==========

========== Hello from Environ.get_legal_moves ==========

board: . . . r . . . .
. p . . k . p p
. . n p . . . .
p . p . . . . .
. . P . P . n .
P P N . . . . .
. . N . . . P P
. . . R . . K .
legal_moves: ['Rh8', 'Rg8', 'Rf8', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Kf8', 'Ke8', 'Kf7', 'Kd7', 'Kf6', 'Ke6', 'Nb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']
legal_moves is NOT empty
========== End of Environ.get_legal_moves ==========


back from get_curr_turn and get_legal_moves
state: {'turn_index': 49, 'curr_turn': 'B25', 'legal_moves': ['Rh8', 'Rg8', 'Rf8', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Kf8', 'Ke8', 'Kf7', 'Kd7', 'Kf6', 'Ke6', 'Nb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
========== End of Environ.get_curr_state ==========

and we're back from self.environ.get_curr_state
Current state is: {'turn_index': 49, 'curr_turn': 'B25', 'legal_moves': ['Rh8', 'Rg8', 'Rf8', 'Re8', 'Rc8', 'Rb8', 'Ra8', 'Rd7', 'Kf8', 'Ke8', 'Kf7', 'Kd7', 'Kf6', 'Ke6', 'Nb8', 'Na7', 'Nce5', 'Nd4', 'Nb4', 'Nh6', 'Nf6', 'Nge5', 'Ne3', 'Nxh2', 'Nf2', 'h6', 'g6', 'b6', 'd5', 'a4', 'h5', 'g5', 'b5']}
Game ended on White turn
curr_state["turn_index"] is: 49
num_chess_moves_curr_training_game is: 49
========== Hello from Bradley.get_game_outcome ==========

going to self.environ.board.outcome().result()
========== Hello from Bradley.get_game_termination_reason ==========

going to self.environ.board.outcome().termination
Game Game 81328 is over.

The Chessboard looks like this:

 . . . r . . . .
. p . . k . p p
. . n p . . . .
p . p . . . . .
. . P . P . n .
P P N . . . . .
. . N . . . P P
. . . R . . K .

========== Hello from Bradley.get_game_outcome ==========

going to self.environ.board.outcome().result()
Game result is: outcome not available, most likely game ended because turn_index was too high or player resigned
========== Hello from Bradley.get_game_termination_reason ==========

going to self.environ.board.outcome().termination
The game ended because of: termination reason not available, most likely game ended because turn_index was too high or player resigned
going to self.reset_environ
========== Hello from Bradley.reset_environ ==========

going to self.environ.reset_environ
========== Hello from Environ.reset_environ ==========

board: r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
P P P P P P P P
R N B Q K B N R
turn_index: 0
========== End of Environ.reset_environ ==========


and we're back from self.environ.reset_environ
Environment has been reset
========== Bye from Bradley.reset_environ ===========


and we're back from self.reset_environ
going to next game in training session
========== Hello from Bradley.reset_environ ==========

going to self.environ.reset_environ
========== Hello from Environ.reset_environ ==========

board: r n b q k b n r
p p p p p p p p
. . . . . . . .
. . . . . . . .
. . . . . . . .
. . . . . . . .
P P P P P P P P
R N B Q K B N R
turn_index: 0
========== End of Environ.reset_environ ==========


and we're back from self.environ.reset_environ
Environment has been reset
========== Bye from Bradley.reset_environ ===========


White agent is trained: True
Black agent is trained: True
========== Bye from Bradley.train_rl_agents ===========


